(function(){"use strict";var t={459:function(t,e,a){var s=a(5130),l=a(6768),n=a(4232);const r={class:"wrapper"},o={class:"right-panel"},i={class:"logo-container"},c={class:"nav-buttons"},u={class:"button-list"},d={key:0},h={key:1},m={key:2},p={key:3},g={key:4,class:"welcome-message"},k={key:5},v={key:6};function f(t,e,a,s,f,b){const L=(0,l.g2)("router-view"),w=(0,l.g2)("TheWelcome"),y=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("header",null,[(0,l.Lk)("div",r,[(0,l.bF)(L)]),e[1]||(e[1]=(0,l.Lk)("link",{href:"https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&display=swap",rel:"stylesheet"},null,-1))]),(0,l.Lk)("main",null,[(0,l.bF)(w)]),(0,l.Lk)("aside",o,[(0,l.Lk)("div",i,[(0,l.bF)(y,{to:"/"},{default:(0,l.k6)((()=>e[2]||(e[2]=[(0,l.Lk)("img",{src:"/images/logo.png",alt:"Logo",class:"logo"},null,-1)]))),_:1})]),(0,l.Lk)("nav",c,[(0,l.Lk)("ul",u,[(0,l.Lk)("li",null,[(0,l.bF)(y,{to:"/",class:"button"},{default:(0,l.k6)((()=>e[3]||(e[3]=[(0,l.eW)("Главная")]))),_:1})]),(0,l.Lk)("li",null,[(0,l.bF)(y,{to:"/about",class:"button"},{default:(0,l.k6)((()=>e[4]||(e[4]=[(0,l.eW)("О нас")]))),_:1})]),(0,l.Lk)("li",null,[(0,l.bF)(y,{to:"/contact",class:"button"},{default:(0,l.k6)((()=>e[5]||(e[5]=[(0,l.eW)("Контакты")]))),_:1})]),f.isAuthenticated?((0,l.uX)(),(0,l.CE)("li",d,[(0,l.bF)(y,{to:"/smartwatches",class:"button"},{default:(0,l.k6)((()=>e[6]||(e[6]=[(0,l.eW)("Смарт-часы")]))),_:1})])):(0,l.Q3)("",!0),f.isAuthenticated?((0,l.uX)(),(0,l.CE)("li",h,[(0,l.bF)(y,{to:"/clients",class:"button"},{default:(0,l.k6)((()=>e[7]||(e[7]=[(0,l.eW)("Клиенты")]))),_:1})])):(0,l.Q3)("",!0),f.isAuthenticated?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("li",m,[(0,l.bF)(y,{to:"/login",class:"button"},{default:(0,l.k6)((()=>e[8]||(e[8]=[(0,l.eW)("Войти")]))),_:1})])),f.isAuthenticated?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("li",p,[(0,l.bF)(y,{to:"/register",class:"button"},{default:(0,l.k6)((()=>e[9]||(e[9]=[(0,l.eW)("Зарегистрироваться")]))),_:1})])),f.isAuthenticated?((0,l.uX)(),(0,l.CE)("li",g,[(0,l.Lk)("span",null,"Добро пожаловать, "+(0,n.v_)(f.username),1)])):(0,l.Q3)("",!0),f.isAuthenticated?((0,l.uX)(),(0,l.CE)("li",k,[(0,l.Lk)("button",{onClick:e[0]||(e[0]=(...t)=>b.logout&&b.logout(...t)),class:"button"},"Выйти")])):(0,l.Q3)("",!0),f.isAuthenticated&&"admin"===f.role?((0,l.uX)(),(0,l.CE)("li",v,e[10]||(e[10]=[(0,l.Lk)("a",{href:"http://localhost:3000",class:"admin-button"},"Админ-панель",-1)]))):(0,l.Q3)("",!0)])])])],64)}a(4114);var b={data(){return{isAuthenticated:!1,username:"",role:""}},created(){this.checkAuth()},methods:{async checkAuth(){try{const t=await fetch("http://localhost:3000/auth/check",{method:"GET",credentials:"include"}),e=await t.json();t.ok?(this.isAuthenticated=!0,this.username=e.username||"Пользователь",this.role=e.role||""):(console.error("Токен недействителен:",e.message),this.isAuthenticated=!1,this.username="",this.role="")}catch(t){console.error("Ошибка проверки авторизации:",t),this.isAuthenticated=!1,this.username="",this.role=""}},async logout(){try{const t=await fetch("http://localhost:3000/auth/logout",{method:"GET",credentials:"include"});t.ok?(this.isAuthenticated=!1,this.username="",this.role="",this.$router.push("/")):console.error("Сервер вернул ошибку при выходе")}catch(t){console.error("Ошибка выхода:",t),this.isAuthenticated=!1,this.username="",this.role="",this.$router.push("/")}}}},L=a(1241);const w=(0,L.A)(b,[["render",f],["__scopeId","data-v-537e3a8e"]]);var y=w,_=a(1387);const C={class:"fade-in"},E={class:"container"},P={class:"flex flex-col sm:flex-row gap-6 mb-10 justify-center"},x={class:"card"},A=["src","alt"],X={class:"card-body"},$={class:"card-text"},T={class:"content-block fade-in"},j={class:"text-lg space-y-4"};function S(t,e,a,s,r,o){return(0,l.uX)(),(0,l.CE)("main",C,[(0,l.Lk)("div",E,[e[2]||(e[2]=(0,l.Lk)("h1",{class:"page-title"},"Смарт-часы мечты уже сегодня!",-1)),e[3]||(e[3]=(0,l.Lk)("p",{class:"fs-5 text-center mb-10"},"Мы предлагаем широкий выбор высококачественных смарт-часов для всех типов пользователей:",-1)),(0,l.Lk)("div",P,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.watches,((t,e)=>((0,l.uX)(),(0,l.CE)("div",{class:"image-block-centered fade-in",key:e,style:(0,n.Tr)({animationDelay:.2*e+"s"})},[(0,l.Lk)("div",x,[(0,l.Lk)("img",{src:t.image,alt:t.name,class:"img-block h-48 w-full object-cover"},null,8,A),(0,l.Lk)("div",X,[(0,l.Lk)("p",$,[(0,l.Lk)("strong",null,(0,n.v_)(t.name),1)])])])],4)))),128))]),(0,l.Lk)("div",T,[e[1]||(e[1]=(0,l.Lk)("h2",{class:"text-2xl font-bold text-center mb-6"},"Почему мы?",-1)),(0,l.Lk)("ul",j,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.reasons,((t,a)=>((0,l.uX)(),(0,l.CE)("li",{class:"flex items-center bg-white bg-opacity-20 p-3 rounded-lg fade-in",key:a,style:(0,n.Tr)({animationDelay:.2*(a+1)+"s"})},[e[0]||(e[0]=(0,l.Lk)("span",{class:"text-green-300 mr-3 text-2xl"},"✅",-1)),(0,l.eW)(" "+(0,n.v_)(t),1)],4)))),128))])])])])}a(8111),a(7588);var I={name:"HomePage",data(){return{watches:[{name:"Премиум модель",image:"/images/1.jpg"},{name:"Спортивная серия",image:"/images/2.jpg"},{name:"Классический дизайн",image:"/images/3.jpeg"}],reasons:["Большой ассортимент моделей","Гарантия качества","Гибкие условия оплаты"]}},mounted(){this.$el.querySelectorAll(".fade-in").forEach(((t,e)=>{setTimeout((()=>{t.style.opacity="1",t.style.transform="translateY(0)"}),200*e)}))}};const N=(0,L.A)(I,[["render",S],["__scopeId","data-v-3aa04f2d"]]);var W=N;const F={class:"fade-in"},O={class:"container"},M={class:"content-block flex flex-col md:flex-row gap-8 mb-12",ref:"block1"},Q={class:"content-block flex flex-col md:flex-row-reverse gap-8 mb-12",ref:"block2"},U={class:"content-block flex flex-col md:flex-row gap-8 mb-12",ref:"block3"},D={class:"content-block flex flex-col md:flex-row-reverse gap-8 mb-12",ref:"block4"},q={class:"content-block flex flex-col md:flex-row gap-8 mb-12",ref:"block5"};function G(t,e,a,s,n,r){return(0,l.uX)(),(0,l.CE)("main",F,[(0,l.Lk)("div",O,[e[5]||(e[5]=(0,l.Lk)("h1",{class:"page-title neon-glow"},"О наших смарт-часах",-1)),(0,l.Lk)("div",M,e[0]||(e[0]=[(0,l.Fv)('<div class="text-block md:w-1/2 neon-border fade-in" data-v-12542a05><h2 class="text-2xl font-bold mb-4 neon-glow" data-v-12542a05>Особенности смарт-часов</h2><p class="fs-5" data-v-12542a05> Смарт-часы оснащены современным дисплеем AMOLED размером 1.3 дюйма. Экран имеет разрешение 400х400 пикселей, что обеспечивает четкое отображение информации даже при ярком солнечном свете. </p></div><div class="image-block md:w-1/2 perspective" data-v-12542a05><img src="/images/1.jpg" alt="Особенности смарт-часов" class="img-block rotate-3d" data-v-12542a05></div>',2)]),512),(0,l.Lk)("div",Q,e[1]||(e[1]=[(0,l.Fv)('<div class="image-block md:w-1/2 perspective" data-v-12542a05><img src="/images/2.jpg" alt="Функциональность смарт-часов" class="img-block rotate-3d" data-v-12542a05></div><div class="text-block md:w-1/2 neon-border fade-in" data-v-12542a05><h2 class="text-2xl font-bold mb-4 neon-glow" data-v-12542a05>Функциональность</h2><p class="fs-5" data-v-12542a05> Смарт-часы поддерживают широкий спектр функций, включая мониторинг сердечного ритма, подсчет шагов, калорий и расстояния. Также есть возможность отслеживать качество сна и получать уведомления о входящих вызовах и сообщениях. </p></div>',2)]),512),(0,l.Lk)("div",U,e[2]||(e[2]=[(0,l.Fv)('<div class="text-block md:w-1/2 neon-border fade-in" data-v-12542a05><h2 class="text-2xl font-bold mb-4 neon-glow" data-v-12542a05>Дизайн и материалы</h2><p class="fs-5" data-v-12542a05> Часы выполнены из высококачественного алюминия и имеют водозащиту по стандарту IP68, что позволяет использовать их даже при занятиях плаванием или дожде. Корпус доступен в нескольких цветах: черный, серебристый и золотистый. </p></div><div class="image-block md:w-1/2 perspective" data-v-12542a05><img src="/images/3.jpeg" alt="Дизайн смарт-часов" class="img-block rotate-3d" data-v-12542a05></div>',2)]),512),(0,l.Lk)("div",D,e[3]||(e[3]=[(0,l.Fv)('<div class="image-block md:w-1/2 perspective" data-v-12542a05><img src="/images/4.jpg" alt="Новая модель смарт-часов" class="img-block rotate-3d" data-v-12542a05></div><div class="text-block md:w-1/2 neon-border fade-in" data-v-12542a05><h2 class="text-2xl font-bold mb-4 neon-glow" data-v-12542a05>Новая модель Pro</h2><p class="fs-5" data-v-12542a05> Наша новая модель Pro отличается увеличенным временем автономной работы - до 14 дней в обычном режиме. Добавлены функции измерения уровня кислорода в крови и ЭКГ. Усовершенствованный GPS обеспечивает точное отслеживание маршрутов. </p></div>',2)]),512),(0,l.Lk)("div",q,e[4]||(e[4]=[(0,l.Fv)('<div class="text-block md:w-1/2 neon-border fade-in" data-v-12542a05><h2 class="text-2xl font-bold mb-4 neon-glow" data-v-12542a05>Спортивная версия</h2><p class="fs-5" data-v-12542a05> Специальная спортивная версия с усиленным корпусом и ремешком. Имеет 20 спортивных режимов, включая плавание, бег, велоспорт и кроссфит. Ударопрочное стекло и улучшенная влагозащита делают эти часы идеальными для активного образа жизни. </p></div><div class="image-block md:w-1/2 perspective" data-v-12542a05><img src="/images/5.jpg" alt="Спортивная версия смарт-часов" class="img-block rotate-3d" data-v-12542a05></div>',2)]),512)])])}var H={name:"AboutPage",mounted(){this.$el.querySelectorAll(".fade-in").forEach(((t,e)=>{setTimeout((()=>{t.style.opacity="1",t.style.transform="translateY(0)"}),200*e)})),this.$el.querySelectorAll(".rotate-3d").forEach((t=>{t.addEventListener("mousemove",(e=>{const a=t.getBoundingClientRect(),s=e.clientX-a.left,l=e.clientY-a.top,n=a.width/2,r=a.height/2,o=(l-r)/25,i=(n-s)/25;t.style.transform=`perspective(1000px) rotateX(${o}deg) rotateY(${i}deg) scale(1.05)`})),t.addEventListener("mouseleave",(()=>{t.style.transform="perspective(1000px) rotateX(0deg) rotateY(0deg) scale(1)"}))}))}};const J=(0,L.A)(H,[["render",G],["__scopeId","data-v-12542a05"]]);var V=J;const K={class:"fade-in"},R={class:"container"},Y={class:"employees-row"},z={class:"card"},Z=["src","alt"],B={class:"card-body"},tt={class:"card-title"},et={class:"card-text"},at={class:"card-text"};function st(t,e,a,s,r,o){return(0,l.uX)(),(0,l.CE)("main",K,[(0,l.Lk)("div",R,[e[0]||(e[0]=(0,l.Lk)("h1",{class:"page-title"},"Знакомьтесь с нашей командой",-1)),e[1]||(e[1]=(0,l.Lk)("p",{class:"fs-5 text-center mb-10"},"Профессионалы, которые делают ваши покупки комфортными",-1)),(0,l.Lk)("div",Y,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.employees,((t,e)=>((0,l.uX)(),(0,l.CE)("div",{class:(0,n.C4)(["employee-card",{"fade-in":!0}]),key:e,style:(0,n.Tr)({animationDelay:.2*e+"s"})},[(0,l.Lk)("div",z,[(0,l.Lk)("img",{src:t.image,alt:t.name,class:"card-img-top"},null,8,Z),(0,l.Lk)("div",B,[(0,l.Lk)("h3",tt,(0,n.v_)(t.name),1),(0,l.Lk)("p",et,[(0,l.Lk)("strong",null,(0,n.v_)(t.role),1)]),(0,l.Lk)("p",at,(0,n.v_)(t.description),1)])])],4)))),128))])])])}var lt={name:"ContactPage",data(){return{employees:[{name:"Иванов Иван",role:"Генеральный директор",description:"Опыт работы 15 лет. Специалист в области управления и стратегического планирования.",image:"/images/11.jpg"},{name:"Петрова Анна",role:"Менеджер по продажам",description:"Поможет подобрать идеальные часы под ваш стиль жизни. Работает с клиентами 8 лет.",image:"/images/33.jpg"},{name:"Сидоров Дмитрий",role:"Технический специалист",description:"Эксперт по техническим характеристикам. Ответит на любые вопросы о функционале.",image:"/images/22.png"},{name:"Кузнецова Елена",role:"Маркетолог",description:"Создает уникальные акции и предложения. Опыт в digital-маркетинге 7 лет.",image:"/images/44.jpg"},{name:"Глебов Алексей",role:"Специалист по гарантии",description:"Решает любые вопросы по гарантийному обслуживанию. Работает в компании 6 лет.",image:"/images/55.png"},{name:"Смирнова Ольга",role:"Клиентский менеджер",description:"Поможет с оформлением заказа и доставкой. Всегда на связи с клиентами.",image:"/images/66.png"}]}},mounted(){this.$el.querySelectorAll(".fade-in").forEach(((t,e)=>{setTimeout((()=>{t.style.opacity="1",t.style.transform="translateY(0)"}),200*e)}))}};const nt=(0,L.A)(lt,[["render",st],["__scopeId","data-v-26b15aec"]]);var rt=nt;const ot={class:"app-container"},it={class:"table-container"},ct={class:"styled-table clients-table"},ut=["src"],dt={key:1},ht={class:"actions-column"},mt=["onClick"],pt={key:0,class:"no-data"},gt={key:1,class:"pagination"},kt=["disabled"],vt=["disabled"];function ft(t,e,a,s,r,o){return(0,l.uX)(),(0,l.CE)("div",null,[e[5]||(e[5]=(0,l.Lk)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css",integrity:"sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==",crossorigin:"anonymous",referrerpolicy:"no-referrer"},null,-1)),(0,l.Lk)("div",ot,[e[4]||(e[4]=(0,l.Lk)("h1",{class:"page-title"},"Список клиентов",-1)),(0,l.Lk)("div",it,[(0,l.Lk)("table",ct,[e[3]||(e[3]=(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"ID"),(0,l.Lk)("th",null,"Фамилия"),(0,l.Lk)("th",null,"Имя"),(0,l.Lk)("th",null,"Отчество"),(0,l.Lk)("th",null,"Дата рождения"),(0,l.Lk)("th",null,"Email"),(0,l.Lk)("th",null,"Телефон"),(0,l.Lk)("th",null,"Подписка"),(0,l.Lk)("th",null,"Изображение"),(0,l.Lk)("th",{class:"actions-column"},"Действия")])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.clients,((t,a)=>((0,l.uX)(),(0,l.CE)("tr",{key:t.id,class:"table-row"},[(0,l.Lk)("td",null,(0,n.v_)((r.currentPage-1)*r.pageSize+a+1),1),(0,l.Lk)("td",null,(0,n.v_)(t.last_name||"N/A"),1),(0,l.Lk)("td",null,(0,n.v_)(t.first_name||"N/A"),1),(0,l.Lk)("td",null,(0,n.v_)(t.middle_name||"N/A"),1),(0,l.Lk)("td",null,(0,n.v_)(t.birth_date||"N/A"),1),(0,l.Lk)("td",null,(0,n.v_)(t.email||"N/A"),1),(0,l.Lk)("td",null,(0,n.v_)(t.phone||"N/A"),1),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,n.C4)(["status",t.is_subscribed?"available":"unavailable"])},(0,n.v_)(t.is_subscribed?"Да":"Нет"),3)]),(0,l.Lk)("td",null,[t.photo?((0,l.uX)(),(0,l.CE)("img",{key:0,src:`${r.backendUrl}${t.photo}`,alt:"Client Image",class:"product-image"},null,8,ut)):((0,l.uX)(),(0,l.CE)("span",dt,"N/A"))]),(0,l.Lk)("td",ht,[(0,l.Lk)("div",{class:"action-button-container",onClick:e=>o.viewClient(t.id)},e[2]||(e[2]=[(0,l.Lk)("i",{class:"fas fa-eye view-icon"},null,-1)]),8,mt)])])))),128))])]),r.clients.length?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("p",pt,"Нет доступных клиентов.")),r.totalPages>1?((0,l.uX)(),(0,l.CE)("div",gt,[(0,l.Lk)("button",{onClick:e[0]||(e[0]=(...t)=>o.prevPage&&o.prevPage(...t)),disabled:1===r.currentPage},"← Предыдущая",8,kt),(0,l.Lk)("span",null,"Страница "+(0,n.v_)(r.currentPage)+" из "+(0,n.v_)(r.totalPages),1),(0,l.Lk)("button",{onClick:e[1]||(e[1]=(...t)=>o.nextPage&&o.nextPage(...t)),disabled:r.currentPage===r.totalPages},"Следующая →",8,vt)])):(0,l.Q3)("",!0)])])])}var bt={data(){return{clients:[],currentPage:1,totalPages:0,pageSize:10,backendUrl:"http://localhost:3000"}},async created(){await this.fetchClients()},methods:{async fetchClients(){try{const t=await fetch(`${this.backendUrl}/api/clients?page=${this.currentPage}`,{method:"GET",credentials:"include"});if(!t.ok){if(401===t.status)return void this.$router.push("/login");throw new Error(`HTTP error! Status: ${t.status}`)}const e=await t.json();this.clients=e.clients||[],this.totalPages=e.totalPages||0,this.currentPage=e.currentPage||1}catch(t){console.error("Error fetching clients:",t),this.clients=[],this.totalPages=0}},async prevPage(){this.currentPage>1&&(this.currentPage--,await this.fetchClients())},async nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,await this.fetchClients())},viewClient(t){this.$router.push(`/view-client/${t}`)}}};const Lt=(0,L.A)(bt,[["render",ft],["__scopeId","data-v-18b84468"]]);var wt=Lt;const yt={class:"app-container"},_t={class:"table-container"},Ct={class:"styled-table smartwatches-table"},Et=["src"],Pt={key:1},xt={class:"actions-column"},At=["onClick"],Xt={key:0,class:"no-data"},$t={key:1,class:"pagination"},Tt=["disabled"],jt=["disabled"];function St(t,e,a,s,r,o){return(0,l.uX)(),(0,l.CE)("div",null,[e[5]||(e[5]=(0,l.Lk)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css",integrity:"sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==",crossorigin:"anonymous",referrerpolicy:"no-referrer"},null,-1)),(0,l.Lk)("div",yt,[e[4]||(e[4]=(0,l.Lk)("h1",{class:"page-title"},"Список смарт-часов",-1)),(0,l.Lk)("div",_t,[(0,l.Lk)("table",Ct,[e[3]||(e[3]=(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"ID"),(0,l.Lk)("th",null,"Бренд"),(0,l.Lk)("th",null,"Модель"),(0,l.Lk)("th",null,"Цвет"),(0,l.Lk)("th",null,"Тип дисплея"),(0,l.Lk)("th",null,"Время работы (ч)"),(0,l.Lk)("th",null,"Цена (₽)"),(0,l.Lk)("th",null,"В наличии"),(0,l.Lk)("th",null,"Изображение"),(0,l.Lk)("th",{class:"actions-column"},"Действия")])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.smartwatches,((t,a)=>((0,l.uX)(),(0,l.CE)("tr",{key:t.id,class:"table-row"},[(0,l.Lk)("td",null,(0,n.v_)((r.currentPage-1)*r.pageSize+a+1),1),(0,l.Lk)("td",null,(0,n.v_)(t.brand||"N/A"),1),(0,l.Lk)("td",null,(0,n.v_)(t.model||"N/A"),1),(0,l.Lk)("td",null,(0,n.v_)(t.color||"N/A"),1),(0,l.Lk)("td",null,(0,n.v_)(t.display_type||"N/A"),1),(0,l.Lk)("td",null,(0,n.v_)(t.battery_life?Math.floor(t.battery_life):"N/A"),1),(0,l.Lk)("td",null,(0,n.v_)(t.price?Math.floor(t.price)+" ₽":"N/A"),1),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,n.C4)(["status",t.in_stock?"available":"unavailable"])},(0,n.v_)(t.in_stock?"Да":"Нет"),3)]),(0,l.Lk)("td",null,[t.photo?((0,l.uX)(),(0,l.CE)("img",{key:0,src:`${r.backendUrl}${t.photo}`,alt:"Smartwatch Image",class:"product-image"},null,8,Et)):((0,l.uX)(),(0,l.CE)("span",Pt,"N/A"))]),(0,l.Lk)("td",xt,[(0,l.Lk)("div",{class:"action-button-container",onClick:e=>o.viewSmartwatch(t.id)},e[2]||(e[2]=[(0,l.Lk)("i",{class:"fas fa-eye view-icon"},null,-1)]),8,At)])])))),128))])]),r.smartwatches.length?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("p",Xt,"Нет доступных смарт-часов.")),r.totalPages>1?((0,l.uX)(),(0,l.CE)("div",$t,[(0,l.Lk)("button",{onClick:e[0]||(e[0]=(...t)=>o.prevPage&&o.prevPage(...t)),disabled:1===r.currentPage},"← Предыдущая",8,Tt),(0,l.Lk)("span",null,"Страница "+(0,n.v_)(r.currentPage)+" из "+(0,n.v_)(r.totalPages),1),(0,l.Lk)("button",{onClick:e[1]||(e[1]=(...t)=>o.nextPage&&o.nextPage(...t)),disabled:r.currentPage===r.totalPages},"Следующая →",8,jt)])):(0,l.Q3)("",!0)])])])}var It={data(){return{smartwatches:[],currentPage:1,totalPages:0,pageSize:10,backendUrl:"http://localhost:3000"}},async created(){await this.fetchSmartwatches()},methods:{async fetchSmartwatches(){try{const t=await fetch(`${this.backendUrl}/api/smartwatches?page=${this.currentPage}`,{method:"GET",credentials:"include"});if(!t.ok){if(401===t.status)return void this.$router.push("/login");throw new Error(`HTTP error! Status: ${t.status}`)}const e=await t.json();this.smartwatches=e.smartwatches||[],this.totalPages=e.totalPages||0,this.currentPage=e.currentPage||1}catch(t){console.error("Error fetching smartwatches:",t),this.smartwatches=[],this.totalPages=0}},async prevPage(){this.currentPage>1&&(this.currentPage--,await this.fetchSmartwatches())},async nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,await this.fetchSmartwatches())},viewSmartwatch(t){this.$router.push(`/view-smartwatch/${t}`)}}};const Nt=(0,L.A)(It,[["render",St],["__scopeId","data-v-1d445ff4"]]);var Wt=Nt;const Ft={class:"container"},Ot={class:"form-group"},Mt={class:"form-group"},Qt={key:0,class:"error"};function Ut(t,e,a,r,o,i){return(0,l.uX)(),(0,l.CE)("div",Ft,[e[6]||(e[6]=(0,l.Lk)("h2",null,"Вход",-1)),(0,l.Lk)("form",{onSubmit:e[2]||(e[2]=(0,s.D$)(((...t)=>i.login&&i.login(...t)),["prevent"]))},[(0,l.Lk)("div",Ot,[e[3]||(e[3]=(0,l.Lk)("label",{for:"email"},"Email:",-1)),(0,l.bo)((0,l.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":e[0]||(e[0]=t=>o.email=t),required:"",class:"form-input"},null,512),[[s.Jo,o.email]])]),(0,l.Lk)("div",Mt,[e[4]||(e[4]=(0,l.Lk)("label",{for:"password"},"Пароль:",-1)),(0,l.bo)((0,l.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=t=>o.password=t),required:"",class:"form-input"},null,512),[[s.Jo,o.password]])]),e[5]||(e[5]=(0,l.Lk)("button",{type:"submit",class:"btn btn-primary"},"Войти",-1)),o.error?((0,l.uX)(),(0,l.CE)("p",Qt,(0,n.v_)(o.error),1)):(0,l.Q3)("",!0)],32)])}var Dt={data(){return{email:"",password:"",error:""}},methods:{async login(){try{console.log("Logging in with data:",{email:this.email,password:this.password});const t=await fetch("http://localhost:3000/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:this.email,password:this.password})}),e=await t.json();console.log("Login response:",e),t.ok?(localStorage.setItem("token",e.token),this.$router.push("/"),setTimeout((()=>{location.reload()}),500)):this.error=e.message||"Ошибка входа"}catch(t){console.error("Error during login:",t),this.error="Ошибка сервера"}}}};const qt=(0,L.A)(Dt,[["render",Ut],["__scopeId","data-v-0c964ea8"]]);var Gt=qt;const Ht={class:"container"},Jt={class:"form-group"},Vt={class:"form-group"},Kt={class:"form-group"},Rt={key:0,class:"error"};function Yt(t,e,a,r,o,i){return(0,l.uX)(),(0,l.CE)("div",Ht,[e[8]||(e[8]=(0,l.Lk)("h2",null,"Регистрация",-1)),(0,l.Lk)("form",{onSubmit:e[3]||(e[3]=(0,s.D$)(((...t)=>i.register&&i.register(...t)),["prevent"]))},[(0,l.Lk)("div",Jt,[e[4]||(e[4]=(0,l.Lk)("label",{for:"username"},"Имя пользователя:",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",id:"username","onUpdate:modelValue":e[0]||(e[0]=t=>o.username=t),required:"",class:"form-input"},null,512),[[s.Jo,o.username]])]),(0,l.Lk)("div",Vt,[e[5]||(e[5]=(0,l.Lk)("label",{for:"email"},"Email:",-1)),(0,l.bo)((0,l.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":e[1]||(e[1]=t=>o.email=t),required:"",class:"form-input"},null,512),[[s.Jo,o.email]])]),(0,l.Lk)("div",Kt,[e[6]||(e[6]=(0,l.Lk)("label",{for:"password"},"Пароль:",-1)),(0,l.bo)((0,l.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":e[2]||(e[2]=t=>o.password=t),required:"",class:"form-input"},null,512),[[s.Jo,o.password]])]),e[7]||(e[7]=(0,l.Lk)("button",{type:"submit",class:"btn btn-primary"},"Зарегистрироваться",-1)),o.error?((0,l.uX)(),(0,l.CE)("p",Rt,(0,n.v_)(o.error),1)):(0,l.Q3)("",!0)],32)])}var zt={data(){return{username:"",email:"",password:"",error:""}},methods:{async register(){try{console.log("Registering user with data:",{username:this.username,email:this.email,password:this.password});const t=await fetch("http://localhost:3000/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.username,email:this.email,password:this.password})}),e=await t.json();console.log("Registration response:",e),t.ok?this.$router.push("/login"):this.error=e.message||"Ошибка регистрации"}catch(t){console.error("Error during registration:",t),this.error="Ошибка сервера"}}}};const Zt=(0,L.A)(zt,[["render",Yt],["__scopeId","data-v-4c6411a6"]]);var Bt=Zt;const te={class:"app-container"},ee={key:0,class:"loading-message"},ae={key:1,class:"error-message"},se={key:2,class:"pet-details"},le={class:"product-image-container"},ne=["src"],re={key:1},oe={class:"pet-info"},ie={class:"action-buttons"},ce={key:3,class:"error-message"};function ue(t,e,a,s,r,o){return(0,l.uX)(),(0,l.CE)("div",te,[e[8]||(e[8]=(0,l.Lk)("h1",{class:"page-title"},"Просмотр клиента",-1)),r.loading?((0,l.uX)(),(0,l.CE)("div",ee,"Загрузка данных...")):r.errorMessage?((0,l.uX)(),(0,l.CE)("div",ae,(0,n.v_)(r.errorMessage),1)):r.client?((0,l.uX)(),(0,l.CE)("div",se,[(0,l.Lk)("div",le,[r.client.photo?((0,l.uX)(),(0,l.CE)("img",{key:0,src:`${r.backendUrl}${r.client.photo}`,alt:"Client Image",class:"product-image"},null,8,ne)):((0,l.uX)(),(0,l.CE)("span",re,"Нет изображения"))]),(0,l.Lk)("div",oe,[(0,l.Lk)("p",null,[e[1]||(e[1]=(0,l.Lk)("strong",null,"Фамилия:",-1)),(0,l.eW)(" "+(0,n.v_)(r.client.last_name||"N/A"),1)]),(0,l.Lk)("p",null,[e[2]||(e[2]=(0,l.Lk)("strong",null,"Имя:",-1)),(0,l.eW)(" "+(0,n.v_)(r.client.first_name||"N/A"),1)]),(0,l.Lk)("p",null,[e[3]||(e[3]=(0,l.Lk)("strong",null,"Отчество:",-1)),(0,l.eW)(" "+(0,n.v_)(r.client.middle_name||"N/A"),1)]),(0,l.Lk)("p",null,[e[4]||(e[4]=(0,l.Lk)("strong",null,"Дата рождения:",-1)),(0,l.eW)(" "+(0,n.v_)(r.client.birth_date||"N/A"),1)]),(0,l.Lk)("p",null,[e[5]||(e[5]=(0,l.Lk)("strong",null,"Email:",-1)),(0,l.eW)(" "+(0,n.v_)(r.client.email||"N/A"),1)]),(0,l.Lk)("p",null,[e[6]||(e[6]=(0,l.Lk)("strong",null,"Телефон:",-1)),(0,l.eW)(" "+(0,n.v_)(r.client.phone||"N/A"),1)]),(0,l.Lk)("p",null,[e[7]||(e[7]=(0,l.Lk)("strong",null,"Подписка:",-1)),(0,l.Lk)("span",{class:(0,n.C4)(["status",r.client.is_subscribed?"available":"unavailable"])},(0,n.v_)(r.client.is_subscribed?"Да":"Нет"),3)])]),(0,l.Lk)("div",ie,[(0,l.Lk)("button",{class:"btn-secondary",onClick:e[0]||(e[0]=e=>t.$router.push("/clients"))},"Вернуться к списку")])])):((0,l.uX)(),(0,l.CE)("div",ce,"Не удалось загрузить данные о клиенте."))])}var de={data(){return{client:null,loading:!0,errorMessage:null,backendUrl:"http://localhost:3000"}},async created(){const t=this.$route.params.id;if(!/^\d+$/.test(t))return this.errorMessage="Некорректный ID",void(this.loading=!1);await this.fetchClient(t)},methods:{async fetchClient(t){try{const e=await fetch(`${this.backendUrl}/api/view-client/${t}`,{method:"GET",credentials:"include"});if(!e.ok){if(401===e.status)return void this.$router.push("/login");if(404===e.status)throw new Error("Клиент не найден");throw new Error(`HTTP error! Status: ${e.status}`)}const a=await e.json();this.client=a}catch(e){console.error("Ошибка при получении данных клиента:",e),this.errorMessage=e.message}finally{this.loading=!1}}}};const he=(0,L.A)(de,[["render",ue],["__scopeId","data-v-6ed75983"]]);var me=he;const pe={class:"app-container"},ge={key:0,class:"loading-message"},ke={key:1,class:"error-message"},ve={key:2,class:"pet-details"},fe={class:"product-image-container"},be=["src"],Le={key:1},we={class:"pet-info"},ye={class:"action-buttons"},_e={key:3,class:"error-message"};function Ce(t,e,a,s,r,o){return(0,l.uX)(),(0,l.CE)("div",pe,[e[8]||(e[8]=(0,l.Lk)("h1",{class:"page-title"},"Просмотр смарт-часов",-1)),r.loading?((0,l.uX)(),(0,l.CE)("div",ge,"Загрузка данных...")):r.errorMessage?((0,l.uX)(),(0,l.CE)("div",ke,(0,n.v_)(r.errorMessage),1)):r.smartwatch?((0,l.uX)(),(0,l.CE)("div",ve,[(0,l.Lk)("div",fe,[r.smartwatch.photo?((0,l.uX)(),(0,l.CE)("img",{key:0,src:`${r.backendUrl}${r.smartwatch.photo}`,alt:"Smartwatch Image",class:"product-image"},null,8,be)):((0,l.uX)(),(0,l.CE)("span",Le,"Нет изображения"))]),(0,l.Lk)("div",we,[(0,l.Lk)("p",null,[e[1]||(e[1]=(0,l.Lk)("strong",null,"Бренд:",-1)),(0,l.eW)(" "+(0,n.v_)(r.smartwatch.brand||"N/A"),1)]),(0,l.Lk)("p",null,[e[2]||(e[2]=(0,l.Lk)("strong",null,"Модель:",-1)),(0,l.eW)(" "+(0,n.v_)(r.smartwatch.model||"N/A"),1)]),(0,l.Lk)("p",null,[e[3]||(e[3]=(0,l.Lk)("strong",null,"Цвет:",-1)),(0,l.eW)(" "+(0,n.v_)(r.smartwatch.color||"N/A"),1)]),(0,l.Lk)("p",null,[e[4]||(e[4]=(0,l.Lk)("strong",null,"Тип дисплея:",-1)),(0,l.eW)(" "+(0,n.v_)(r.smartwatch.display_type||"N/A"),1)]),(0,l.Lk)("p",null,[e[5]||(e[5]=(0,l.Lk)("strong",null,"Время работы:",-1)),(0,l.eW)(" "+(0,n.v_)(r.smartwatch.battery_life?Math.floor(r.smartwatch.battery_life)+" ч":"N/A"),1)]),(0,l.Lk)("p",null,[e[6]||(e[6]=(0,l.Lk)("strong",null,"Цена:",-1)),(0,l.eW)(" "+(0,n.v_)(r.smartwatch.price?Math.floor(r.smartwatch.price)+" ₽":"N/A"),1)]),(0,l.Lk)("p",null,[e[7]||(e[7]=(0,l.Lk)("strong",null,"В наличии:",-1)),(0,l.Lk)("span",{class:(0,n.C4)(["status",r.smartwatch.in_stock?"available":"unavailable"])},(0,n.v_)(r.smartwatch.in_stock?"Да":"Нет"),3)])]),(0,l.Lk)("div",ye,[(0,l.Lk)("button",{class:"btn-secondary",onClick:e[0]||(e[0]=e=>t.$router.push("/smartwatches"))},"Вернуться к списку")])])):((0,l.uX)(),(0,l.CE)("div",_e,"Не удалось загрузить данные о смарт-часах."))])}var Ee={data(){return{smartwatch:null,loading:!0,errorMessage:null,backendUrl:"http://localhost:3000"}},async created(){const t=this.$route.params.id;if(!/^\d+$/.test(t))return this.errorMessage="Некорректный ID",void(this.loading=!1);await this.fetchSmartwatch(t)},methods:{async fetchSmartwatch(t){try{const e=await fetch(`${this.backendUrl}/api/view-smartwatch/${t}`,{method:"GET",credentials:"include"});if(!e.ok){if(401===e.status)return void this.$router.push("/login");if(404===e.status)throw new Error("Смарт-часы не найдены");throw new Error(`HTTP error! Status: ${e.status}`)}const a=await e.json();this.smartwatch=a}catch(e){console.error("Ошибка при получении данных смарт-часов:",e),this.errorMessage=e.message}finally{this.loading=!1}}}};const Pe=(0,L.A)(Ee,[["render",Ce],["__scopeId","data-v-75d7172c"]]);var xe=Pe;const Ae=[{path:"/",component:W},{path:"/about",component:V},{path:"/contact",component:rt},{path:"/clients",component:wt},{path:"/smartwatches",component:Wt},{path:"/login",component:Gt},{path:"/register",component:Bt},{path:"/view-client/:id",component:me},{path:"/view-smartwatch/:id",component:xe}],Xe=(0,_.aE)({history:(0,_.LA)(),routes:Ae});var $e=Xe;const Te=(0,s.Ef)(y);Te.use($e),Te.mount("#app")}},e={};function a(s){var l=e[s];if(void 0!==l)return l.exports;var n=e[s]={exports:{}};return t[s].call(n.exports,n,n.exports,a),n.exports}a.m=t,function(){var t=[];a.O=function(e,s,l,n){if(!s){var r=1/0;for(u=0;u<t.length;u++){s=t[u][0],l=t[u][1],n=t[u][2];for(var o=!0,i=0;i<s.length;i++)(!1&n||r>=n)&&Object.keys(a.O).every((function(t){return a.O[t](s[i])}))?s.splice(i--,1):(o=!1,n<r&&(r=n));if(o){t.splice(u--,1);var c=l();void 0!==c&&(e=c)}}return e}n=n||0;for(var u=t.length;u>0&&t[u-1][2]>n;u--)t[u]=t[u-1];t[u]=[s,l,n]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={524:0};a.O.j=function(e){return 0===t[e]};var e=function(e,s){var l,n,r=s[0],o=s[1],i=s[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(l in o)a.o(o,l)&&(a.m[l]=o[l]);if(i)var u=i(a)}for(e&&e(s);c<r.length;c++)n=r[c],a.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return a.O(u)},s=self["webpackChunkvueapp"]=self["webpackChunkvueapp"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[504],(function(){return a(459)}));s=a.O(s)})();
//# sourceMappingURL=app.1b49f079.js.map