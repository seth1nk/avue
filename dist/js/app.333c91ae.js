(function(){"use strict";var a={4719:function(a,t,e){var s=e(5130),r=e(6768),l=e(4232);const o={class:"wrapper"},n={class:"right-panel"},d={class:"logo-container"},i={class:"nav-buttons"},c={class:"button-list"},u={key:0},v={key:1},p={key:2},g={key:3},h={key:4,class:"welcome-message"},m={key:5},k={key:6};function f(a,t,e,s,f,b){const y=(0,r.g2)("router-view"),w=(0,r.g2)("TheWelcome"),L=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Lk)("header",null,[(0,r.Lk)("div",o,[(0,r.bF)(y)]),t[1]||(t[1]=(0,r.Lk)("link",{href:"https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&display=swap",rel:"stylesheet"},null,-1))]),(0,r.Lk)("main",null,[(0,r.bF)(w)]),(0,r.Lk)("aside",n,[(0,r.Lk)("div",d,[(0,r.bF)(L,{to:"/"},{default:(0,r.k6)((()=>t[2]||(t[2]=[(0,r.Lk)("img",{src:"/images/logo.png",alt:"Logo",class:"logo"},null,-1)]))),_:1})]),(0,r.Lk)("nav",i,[(0,r.Lk)("ul",c,[(0,r.Lk)("li",null,[(0,r.bF)(L,{to:"/",class:"button"},{default:(0,r.k6)((()=>t[3]||(t[3]=[(0,r.eW)("Главная")]))),_:1})]),(0,r.Lk)("li",null,[(0,r.bF)(L,{to:"/about",class:"button"},{default:(0,r.k6)((()=>t[4]||(t[4]=[(0,r.eW)("О нас")]))),_:1})]),(0,r.Lk)("li",null,[(0,r.bF)(L,{to:"/contact",class:"button"},{default:(0,r.k6)((()=>t[5]||(t[5]=[(0,r.eW)("Контакты")]))),_:1})]),f.isAuthenticated?((0,r.uX)(),(0,r.CE)("li",u,[(0,r.bF)(L,{to:"/jewelry",class:"button"},{default:(0,r.k6)((()=>t[6]||(t[6]=[(0,r.eW)("Ювелирка")]))),_:1})])):(0,r.Q3)("",!0),f.isAuthenticated?((0,r.uX)(),(0,r.CE)("li",v,[(0,r.bF)(L,{to:"/orders",class:"button"},{default:(0,r.k6)((()=>t[7]||(t[7]=[(0,r.eW)("Заказы")]))),_:1})])):(0,r.Q3)("",!0),f.isAuthenticated?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("li",p,[(0,r.bF)(L,{to:"/login",class:"button"},{default:(0,r.k6)((()=>t[8]||(t[8]=[(0,r.eW)("Войти")]))),_:1})])),f.isAuthenticated?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("li",g,[(0,r.bF)(L,{to:"/register",class:"button"},{default:(0,r.k6)((()=>t[9]||(t[9]=[(0,r.eW)("Зарегистрироваться")]))),_:1})])),f.isAuthenticated?((0,r.uX)(),(0,r.CE)("li",h,[(0,r.Lk)("span",null,"Добро пожаловать, "+(0,l.v_)(f.username),1)])):(0,r.Q3)("",!0),f.isAuthenticated?((0,r.uX)(),(0,r.CE)("li",m,[(0,r.Lk)("button",{onClick:t[0]||(t[0]=(...a)=>b.logout&&b.logout(...a)),class:"button"},"Выйти")])):(0,r.Q3)("",!0),f.isAuthenticated&&"admin"===f.role?((0,r.uX)(),(0,r.CE)("li",k,t[10]||(t[10]=[(0,r.Lk)("a",{href:"https://nodejs-production-0586.up.railway.app",class:"admin-button"},"Админ-панель",-1)]))):(0,r.Q3)("",!0)])])])],64)}e(4114);var b={data(){return{isAuthenticated:!1,username:"",role:""}},created(){this.checkAuth()},methods:{async checkAuth(){try{const a=await fetch("https://nodejs-production-0586.up.railway.app/auth/check",{method:"GET",credentials:"include"}),t=await a.json();a.ok?(this.isAuthenticated=!0,this.username=t.username||"Пользователь",this.role=t.role||""):(console.error("Токен недействителен:",t.message),this.isAuthenticated=!1,this.username="",this.role="")}catch(a){console.error("Ошибка проверки авторизации:",a),this.isAuthenticated=!1,this.username="",this.role=""}},async logout(){try{const a=await fetch("https://nodejs-production-0586.up.railway.app/auth/logout",{method:"GET",credentials:"include"});a.ok?(this.isAuthenticated=!1,this.username="",this.role="",this.$router.push("/")):console.error("Сервер вернул ошибку при выходе")}catch(a){console.error("Ошибка выхода:",a),this.isAuthenticated=!1,this.username="",this.role="",this.$router.push("/")}}}},y=e(1241);const w=(0,y.A)(b,[["render",f],["__scopeId","data-v-290b8266"]]);var L=w,_=e(1387);const j={class:"container fade-in"};function E(a,t,e,s,l,o){return(0,r.uX)(),(0,r.CE)("main",j,t[0]||(t[0]=[(0,r.Fv)('<h1 class="page-title mb-4" data-v-582a9262><b data-v-582a9262>ЮВЕЛИРНЫЙ МАГАЗИН «КРОН»</b></h1><div class="content-block text-center mb-5" data-v-582a9262><div class="image-block-centered" data-v-582a9262><img src="/images/1.jpg" class="img-block" alt="Ювелирные изделия" data-v-582a9262></div><div class="text-block" data-v-582a9262><p class="fs-5" data-v-582a9262> Добро пожаловать в ювелирный магазин «Крон» — место, где воплощаются мечты о совершенстве и роскоши! Мы предлагаем эксклюзивные ювелирные украшения: кольца, серьги, ожерелья, браслеты и другие изделия, созданные с использованием драгоценных камней и металлов высочайшего качества. </p></div></div><div class="content-block text-center mb-5" data-v-582a9262><div class="image-block-centered" data-v-582a9262><img src="/images/2.jpg" class="img-block" alt="Элитные часы" data-v-582a9262></div><div class="text-block" data-v-582a9262><p class="fs-5" data-v-582a9262> В нашем ассортименте вы найдете украшения для любого случая — от элегантных повседневных аксессуаров до роскошных изделий для особых событий. Кроме того, мы предлагаем коллекцию элитных часов от ведущих мировых брендов, сочетающих в себе утонченный дизайн и безупречную точность. </p></div></div><div class="content-block text-center mb-5" data-v-582a9262><div class="image-block-centered" data-v-582a9262><img src="/images/3.jpg" class="img-block" alt="Ювелирные мастера" data-v-582a9262></div><div class="text-block" data-v-582a9262><p class="fs-5" data-v-582a9262> Мы сотрудничаем с лучшими ювелирными мастерами и часовыми брендами, чтобы каждое изделие отвечало самым высоким стандартам качества и дизайна. Покупая в «Крон», вы выбираете утонченность, надежность и вечную красоту, будь то ювелирное украшение или роскошные часы. </p></div></div>',4)]))}var C={name:"HomePage"};const P=(0,y.A)(C,[["render",E],["__scopeId","data-v-582a9262"]]);var $=P;const A={class:"container fade-in"};function X(a,t,e,s,l,o){return(0,r.uX)(),(0,r.CE)("main",A,t[0]||(t[0]=[(0,r.Fv)('<h1 class="page-title" data-v-0154fb2d>О нас</h1><div class="content-block mb-5" data-v-0154fb2d><div class="row align-items-center" data-v-0154fb2d><div class="col-md-6 image-block" data-v-0154fb2d><img src="/images/kol.jpg" class="img-block" alt="Кольца" data-v-0154fb2d></div><div class="col-md-6 text-block" data-v-0154fb2d><p class="fs-5" data-v-0154fb2d> Кольца — воплощение элегантности и утонченности. В нашем магазине «Крон» представлены кольца с драгоценными камнями и уникальными дизайнами, подходящие для помолвки, свадьбы или повседневной носки. <br data-v-0154fb2d><strong data-v-0154fb2d>Примерная стоимость:</strong> от 10 000 до 500 000 рублей. </p></div></div></div><div class="content-block mb-5" data-v-0154fb2d><div class="row align-items-center flex-md-row-reverse" data-v-0154fb2d><div class="col-md-6 image-block" data-v-0154fb2d><img src="/images/ser.jpg" class="img-block" alt="Серьги" data-v-0154fb2d></div><div class="col-md-6 text-block" data-v-0154fb2d><p class="fs-5" data-v-0154fb2d> Серьги — идеальный способ подчеркнуть вашу индивидуальность. От классических моделей с бриллиантами до современных асимметричных дизайнов, у нас есть украшения на любой вкус. <br data-v-0154fb2d><strong data-v-0154fb2d>Примерная стоимость:</strong> от 5 000 до 300 000 рублей. </p></div></div></div><div class="content-block mb-5" data-v-0154fb2d><div class="row align-items-center" data-v-0154fb2d><div class="col-md-6 image-block" data-v-0154fb2d><img src="/images/ozher.jpg" class="img-block" alt="Ожерелья" data-v-0154fb2d></div><div class="col-md-6 text-block" data-v-0154fb2d><p class="fs-5" data-v-0154fb2d> Ожерелья — изысканные украшения, которые добавляют шарма любому образу. Мы предлагаем как минималистичные цепочки, так и роскошные ожерелья с драгоценными камнями. <br data-v-0154fb2d><strong data-v-0154fb2d>Примерная стоимость:</strong> от 15 000 до 700 000 рублей. </p></div></div></div><div class="content-block mb-5" data-v-0154fb2d><div class="row align-items-center flex-md-row-reverse" data-v-0154fb2d><div class="col-md-6 image-block" data-v-0154fb2d><img src="/images/brasl.jpg" class="img-block" alt="Браслеты" data-v-0154fb2d></div><div class="col-md-6 text-block" data-v-0154fb2d><p class="fs-5" data-v-0154fb2d> Браслеты — стильные аксессуары, которые подчеркивают утонченность и вкус. Наши коллекции включают как изящные цепочки, так и массивные украшения с инкрустацией. <br data-v-0154fb2d><strong data-v-0154fb2d>Примерная стоимость:</strong> от 8 000 до 400 000 рублей. </p></div></div></div><div class="content-block mb-5" data-v-0154fb2d><div class="row align-items-center" data-v-0154fb2d><div class="col-md-6 image-block" data-v-0154fb2d><img src="/images/clock.jpg" class="img-block" alt="Часы" data-v-0154fb2d></div><div class="col-md-6 text-block" data-v-0154fb2d><p class="fs-5" data-v-0154fb2d> Часы — сочетание функциональности и роскоши. Мы предлагаем элитные часы от ведущих мировых брендов, которые станут не только стильным аксессуаром, но и символом статуса. <br data-v-0154fb2d><strong data-v-0154fb2d>Примерная стоимость:</strong> от 20 000 до 1 500 000 рублей. </p></div></div></div>',6)]))}var x={name:"AboutPage"};const O=(0,y.A)(x,[["render",X],["__scopeId","data-v-0154fb2d"]]);var T=O;const N={class:"container fade-in"};function I(a,t,e,s,l,o){return(0,r.uX)(),(0,r.CE)("main",N,t[0]||(t[0]=[(0,r.Fv)('<h1 class="page-title" data-v-0d6a1834>Контакты</h1><div class="row employees-row mt-5" data-v-0d6a1834><div class="col-md-4 employee-card" style="transform:rotate(-2deg);" data-v-0d6a1834><div class="card" data-v-0d6a1834><img src="/images/11.jpeg" class="card-img-top" alt="Елена Смирнова" data-v-0d6a1834><div class="card-body" data-v-0d6a1834><h5 class="card-title" data-v-0d6a1834>Елена Смирнова</h5><p class="card-text" data-v-0d6a1834><strong data-v-0d6a1834>Должность:</strong> Директор магазина</p><p class="card-text" data-v-0d6a1834><strong data-v-0d6a1834>Стаж:</strong> 10 лет</p></div></div></div><div class="col-md-4 employee-card" style="transform:rotate(1deg);" data-v-0d6a1834><div class="card" data-v-0d6a1834><img src="/images/22.jpg" class="card-img-top" alt="Софья Волкова" data-v-0d6a1834><div class="card-body" data-v-0d6a1834><h5 class="card-title" data-v-0d6a1834>Софья Волкова</h5><p class="card-text" data-v-0d6a1834><strong data-v-0d6a1834>Должность:</strong> Ювелир-дизайнер</p><p class="card-text" data-v-0d6a1834><strong data-v-0d6a1834>Стаж:</strong> 8 лет</p></div></div></div><div class="col-md-4 employee-card" style="transform:rotate(-1deg);" data-v-0d6a1834><div class="card" data-v-0d6a1834><img src="/images/33.jpg" class="card-img-top" alt="Ольга Николаева" data-v-0d6a1834><div class="card-body" data-v-0d6a1834><h5 class="card-title" data-v-0d6a1834>Ольга Николаева</h5><p class="card-text" data-v-0d6a1834><strong data-v-0d6a1834>Должность:</strong> Консультант по драгоценным камням</p><p class="card-text" data-v-0d6a1834><strong data-v-0d6a1834>Стаж:</strong> 3 года</p></div></div></div><div class="col-md-4 employee-card" style="transform:rotate(2deg);margin-top:20px;" data-v-0d6a1834><div class="card" data-v-0d6a1834><img src="/images/44.jpeg" class="card-img-top" alt="Виктория Лебедева" data-v-0d6a1834><div class="card-body" data-v-0d6a1834><h5 class="card-title" data-v-0d6a1834>Виктория Лебедева</h5><p class="card-text" data-v-0d6a1834><strong data-v-0d6a1834>Должность:</strong> Администратор салона</p><p class="card-text" data-v-0d6a1834><strong data-v-0d6a1834>Стаж:</strong> 6 лет</p></div></div></div><div class="col-md-4 employee-card" style="transform:rotate(-1deg);margin-top:30px;" data-v-0d6a1834><div class="card" data-v-0d6a1834><img src="/images/55.jpg" class="card-img-top" alt="Игорь Соколов" data-v-0d6a1834><div class="card-body" data-v-0d6a1834><h5 class="card-title" data-v-0d6a1834>Игорь Соколов</h5><p class="card-text" data-v-0d6a1834><strong data-v-0d6a1834>Должность:</strong> Специалист по часовым механизмам</p><p class="card-text" data-v-0d6a1834><strong data-v-0d6a1834>Стаж:</strong> 7 лет</p></div></div></div><div class="col-md-4 employee-card" style="transform:rotate(1deg);margin-top:40px;" data-v-0d6a1834><div class="card" data-v-0d6a1834><img src="/images/66.jpeg" class="card-img-top" alt="Дарья Петрова" data-v-0d6a1834><div class="card-body" data-v-0d6a1834><h5 class="card-title" data-v-0d6a1834>Дарья Петрова</h5><p class="card-text" data-v-0d6a1834><strong data-v-0d6a1834>Должность:</strong> Менеджер по продажам</p><p class="card-text" data-v-0d6a1834><strong data-v-0d6a1834>Стаж:</strong> 4 года</p></div></div></div></div>',2)]))}var J={name:"ContactPage"};const U=(0,y.A)(J,[["render",I],["__scopeId","data-v-0d6a1834"]]);var M=U;const F={class:"app-container"},W={class:"table-container"},S={class:"styled-table"},Q=["src"],D={key:1},G={class:"actions-column"},q=["onClick"],z={key:0,class:"no-pets-message"},H={key:1,class:"pagination"},V=["disabled"],K=["disabled"];function R(a,t,e,s,o,n){return(0,r.uX)(),(0,r.CE)("div",null,[t[5]||(t[5]=(0,r.Lk)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css",integrity:"sha512-...",crossorigin:"anonymous",referrerpolicy:"no-referrer"},null,-1)),(0,r.Lk)("div",F,[t[4]||(t[4]=(0,r.Lk)("h1",{class:"page-title"},"Список ювелирных изделий",-1)),(0,r.Lk)("div",W,[(0,r.Lk)("table",S,[t[3]||(t[3]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"ID"),(0,r.Lk)("th",null,"Название"),(0,r.Lk)("th",null,"Категория"),(0,r.Lk)("th",null,"Материал"),(0,r.Lk)("th",null,"Вес (г)"),(0,r.Lk)("th",null,"Цена (₽)"),(0,r.Lk)("th",null,"В наличии"),(0,r.Lk)("th",null,"Изображение"),(0,r.Lk)("th",{class:"actions-column"},"Действия")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.jewelry,((a,e)=>((0,r.uX)(),(0,r.CE)("tr",{key:a.id,class:"table-row"},[(0,r.Lk)("td",null,(0,l.v_)((o.currentPage-1)*o.pageSize+e+1),1),(0,r.Lk)("td",null,(0,l.v_)(a.name||"N/A"),1),(0,r.Lk)("td",null,(0,l.v_)(a.category||"N/A"),1),(0,r.Lk)("td",null,(0,l.v_)(a.material||"N/A"),1),(0,r.Lk)("td",null,(0,l.v_)(a.weight?Math.floor(a.weight):"N/A"),1),(0,r.Lk)("td",null,(0,l.v_)(a.price?Math.floor(a.price)+" ₽":"N/A"),1),(0,r.Lk)("td",null,[(0,r.Lk)("span",{class:(0,l.C4)(["status",a.in_stock?"available":"unavailable"])},(0,l.v_)(a.in_stock?"Да":"Нет"),3)]),(0,r.Lk)("td",null,[a.image?((0,r.uX)(),(0,r.CE)("img",{key:0,src:`${o.backendUrl}${a.image}`,alt:"Jewelry Image",class:"pet-image"},null,8,Q)):((0,r.uX)(),(0,r.CE)("span",D,"N/A"))]),(0,r.Lk)("td",G,[(0,r.Lk)("div",{class:"action-button-container",onClick:t=>n.viewJewelry(a.id)},t[2]||(t[2]=[(0,r.Lk)("i",{class:"fas fa-eye"},null,-1)]),8,q)])])))),128))])]),o.jewelry.length?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("p",z,"Нет доступных ювелирных изделий.")),o.totalPages>1?((0,r.uX)(),(0,r.CE)("div",H,[(0,r.Lk)("button",{onClick:t[0]||(t[0]=(...a)=>n.prevPage&&n.prevPage(...a)),disabled:1===o.currentPage},"← Предыдущая",8,V),(0,r.Lk)("span",null,"Страница "+(0,l.v_)(o.currentPage)+" из "+(0,l.v_)(o.totalPages),1),(0,r.Lk)("button",{onClick:t[1]||(t[1]=(...a)=>n.nextPage&&n.nextPage(...a)),disabled:o.currentPage===o.totalPages},"Следующая →",8,K)])):(0,r.Q3)("",!0)])])])}var B={data(){return{jewelry:[],currentPage:1,totalPages:0,pageSize:10,backendUrl:"https://nodejs-production-0586.up.railway.app"}},async created(){await this.fetchJewelry()},methods:{async fetchJewelry(){try{const a=await fetch(`${this.backendUrl}/api/jewelry?page=${this.currentPage}`,{method:"GET",credentials:"include"});if(!a.ok){if(401===a.status)return void this.$router.push("/login");throw new Error(`HTTP error! Status: ${a.status}`)}const t=await a.json();this.jewelry=t.jewelry||[],this.totalPages=t.totalPages||0,this.currentPage=t.currentPage||1}catch(a){console.error("Error fetching jewelry:",a),this.jewelry=[],this.totalPages=0}},async prevPage(){this.currentPage>1&&(this.currentPage--,await this.fetchJewelry())},async nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,await this.fetchJewelry())},viewJewelry(a){this.$router.push(`/view-jewelry/${a}`)},editJewelry(a){this.$router.push(`/edit-jewelry/${a}`)},async deleteJewelry(a){if(confirm("Вы уверены, что хотите удалить это ювелирное изделие?"))try{const t=await fetch(`${this.backendUrl}/delete-jewelry/${a}`,{method:"DELETE",credentials:"include"});if(!t.ok){const a=await t.json();throw new Error(`Ошибка сервера: ${t.status} ${a.error}`)}await this.fetchJewelry()}catch(t){console.error("Error deleting jewelry:",t),alert(`Ошибка: ${t.message}`)}}}};const Y=(0,y.A)(B,[["render",R],["__scopeId","data-v-2f3ef65a"]]);var Z=Y;const aa={class:"app-container"},ta={class:"table-container"},ea={class:"styled-table"},sa=["src"],ra={key:1},la={class:"actions-column"},oa=["onClick"],na={key:0,class:"no-pets-message"},da={key:1,class:"pagination"},ia=["disabled"],ca=["disabled"];function ua(a,t,e,s,o,n){return(0,r.uX)(),(0,r.CE)("div",null,[t[5]||(t[5]=(0,r.Lk)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css",integrity:"sha512-...",crossorigin:"anonymous",referrerpolicy:"no-referrer"},null,-1)),(0,r.Lk)("div",aa,[t[4]||(t[4]=(0,r.Lk)("h1",{class:"page-title"},"Список заказов",-1)),(0,r.Lk)("div",ta,[(0,r.Lk)("table",ea,[t[3]||(t[3]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"ID"),(0,r.Lk)("th",null,"Имя клиента"),(0,r.Lk)("th",null,"Дата заказа"),(0,r.Lk)("th",null,"Сумма (₽)"),(0,r.Lk)("th",null,"Статус"),(0,r.Lk)("th",null,"Адрес доставки"),(0,r.Lk)("th",null,"Изображение"),(0,r.Lk)("th",{class:"actions-column"},"Действия")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.orders,((a,e)=>((0,r.uX)(),(0,r.CE)("tr",{key:a.id,class:"table-row"},[(0,r.Lk)("td",null,(0,l.v_)((o.currentPage-1)*o.pageSize+e+1),1),(0,r.Lk)("td",null,(0,l.v_)(a.client_name||"N/A"),1),(0,r.Lk)("td",null,(0,l.v_)(a.order_date?a.order_date.split("T")[0]:"N/A"),1),(0,r.Lk)("td",null,(0,l.v_)(a.total_amount?Math.floor(a.total_amount)+" ₽":"N/A"),1),(0,r.Lk)("td",null,[(0,r.Lk)("span",{class:(0,l.C4)(["status",a.status?`status-${a.status.replace(" ","-")}`:""])},(0,l.v_)(a.status||"N/A"),3)]),(0,r.Lk)("td",null,(0,l.v_)(a.delivery_address||"N/A"),1),(0,r.Lk)("td",null,[a.image?((0,r.uX)(),(0,r.CE)("img",{key:0,src:`${o.backendUrl}${a.image}`,alt:"Order Image",class:"pet-image"},null,8,sa)):((0,r.uX)(),(0,r.CE)("span",ra,"N/A"))]),(0,r.Lk)("td",la,[(0,r.Lk)("div",{class:"action-button-container",onClick:t=>n.viewOrder(a.id)},t[2]||(t[2]=[(0,r.Lk)("i",{class:"fas fa-eye"},null,-1)]),8,oa)])])))),128))])]),o.orders.length?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("p",na,"Нет доступных заказов.")),o.totalPages>1?((0,r.uX)(),(0,r.CE)("div",da,[(0,r.Lk)("button",{onClick:t[0]||(t[0]=(...a)=>n.prevPage&&n.prevPage(...a)),disabled:1===o.currentPage},"← Предыдущая",8,ia),(0,r.Lk)("span",null,"Страница "+(0,l.v_)(o.currentPage)+" из "+(0,l.v_)(o.totalPages),1),(0,r.Lk)("button",{onClick:t[1]||(t[1]=(...a)=>n.nextPage&&n.nextPage(...a)),disabled:o.currentPage===o.totalPages},"Следующая →",8,ca)])):(0,r.Q3)("",!0)])])])}var va={data(){return{orders:[],currentPage:1,totalPages:0,pageSize:10,backendUrl:"https://nodejs-production-0586.up.railway.app"}},async created(){await this.fetchOrders()},methods:{async fetchOrders(){try{const a=await fetch(`${this.backendUrl}/api/orders?page=${this.currentPage}`,{method:"GET",credentials:"include"});if(!a.ok){if(401===a.status)return void this.$router.push("/login");throw new Error(`HTTP error! Status: ${a.status}`)}const t=await a.json();this.orders=t.orders||[],this.totalPages=t.totalPages||0,this.currentPage=t.currentPage||1}catch(a){console.error("Error fetching orders:",a),this.orders=[],this.totalPages=0}},async prevPage(){this.currentPage>1&&(this.currentPage--,await this.fetchOrders())},async nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,await this.fetchOrders())},viewOrder(a){this.$router.push(`/view-order/${a}`)},editOrder(a){this.$router.push(`/edit-order/${a}`)},async deleteOrder(a){if(confirm("Вы уверены, что хотите удалить этот заказ?"))try{const t=await fetch(`${this.backendUrl}/delete-order/${a}`,{method:"DELETE",credentials:"include"});if(!t.ok){const a=await t.json();throw new Error(`Ошибка сервера: ${t.status} ${a.error}`)}await this.fetchOrders()}catch(t){console.error("Error deleting order:",t),alert(`Ошибка: ${t.message}`)}}}};const pa=(0,y.A)(va,[["render",ua],["__scopeId","data-v-26f1961e"]]);var ga=pa;const ha={class:"container"},ma={class:"form-group"},ka={class:"form-group"},fa={key:0,class:"error"};function ba(a,t,e,o,n,d){return(0,r.uX)(),(0,r.CE)("div",ha,[t[6]||(t[6]=(0,r.Lk)("h2",null,"Вход",-1)),(0,r.Lk)("form",{onSubmit:t[2]||(t[2]=(0,s.D$)(((...a)=>d.login&&d.login(...a)),["prevent"]))},[(0,r.Lk)("div",ma,[t[3]||(t[3]=(0,r.Lk)("label",{for:"email"},"Email:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=a=>n.email=a),required:"",class:"form-input"},null,512),[[s.Jo,n.email]])]),(0,r.Lk)("div",ka,[t[4]||(t[4]=(0,r.Lk)("label",{for:"password"},"Пароль:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=a=>n.password=a),required:"",class:"form-input"},null,512),[[s.Jo,n.password]])]),t[5]||(t[5]=(0,r.Lk)("button",{type:"submit",class:"btn btn-primary"},"Войти",-1)),n.error?((0,r.uX)(),(0,r.CE)("p",fa,(0,l.v_)(n.error),1)):(0,r.Q3)("",!0)],32)])}var ya={data(){return{email:"",password:"",error:""}},methods:{async login(){try{console.log("Logging in with data:",{email:this.email,password:this.password});const a=await fetch("https://nodejs-production-0586.up.railway.app/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:this.email,password:this.password})}),t=await a.json();console.log("Login response:",t),a.ok?(localStorage.setItem("token",t.token),this.$router.push("/"),setTimeout((()=>{location.reload()}),500)):this.error=t.message||"Ошибка входа"}catch(a){console.error("Error during login:",a),this.error="Ошибка сервера"}}}};const wa=(0,y.A)(ya,[["render",ba],["__scopeId","data-v-4ba12e76"]]);var La=wa;const _a={class:"container"},ja={class:"form-group"},Ea={class:"form-group"},Ca={class:"form-group"},Pa={key:0,class:"error"};function $a(a,t,e,o,n,d){return(0,r.uX)(),(0,r.CE)("div",_a,[t[8]||(t[8]=(0,r.Lk)("h2",null,"Регистрация",-1)),(0,r.Lk)("form",{onSubmit:t[3]||(t[3]=(0,s.D$)(((...a)=>d.register&&d.register(...a)),["prevent"]))},[(0,r.Lk)("div",ja,[t[4]||(t[4]=(0,r.Lk)("label",{for:"username"},"Имя пользователя:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"username","onUpdate:modelValue":t[0]||(t[0]=a=>n.username=a),required:"",class:"form-input"},null,512),[[s.Jo,n.username]])]),(0,r.Lk)("div",Ea,[t[5]||(t[5]=(0,r.Lk)("label",{for:"email"},"Email:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":t[1]||(t[1]=a=>n.email=a),required:"",class:"form-input"},null,512),[[s.Jo,n.email]])]),(0,r.Lk)("div",Ca,[t[6]||(t[6]=(0,r.Lk)("label",{for:"password"},"Пароль:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":t[2]||(t[2]=a=>n.password=a),required:"",class:"form-input"},null,512),[[s.Jo,n.password]])]),t[7]||(t[7]=(0,r.Lk)("button",{type:"submit",class:"btn btn-primary"},"Зарегистрироваться",-1)),n.error?((0,r.uX)(),(0,r.CE)("p",Pa,(0,l.v_)(n.error),1)):(0,r.Q3)("",!0)],32)])}var Aa={data(){return{username:"",email:"",password:"",error:""}},methods:{async register(){try{console.log("Registering user with data:",{username:this.username,email:this.email,password:this.password});const a=await fetch("https://nodejs-production-0586.up.railway.app/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.username,email:this.email,password:this.password})}),t=await a.json();console.log("Registration response:",t),a.ok?this.$router.push("/login"):this.error=t.message||"Ошибка регистрации"}catch(a){console.error("Error during registration:",a),this.error="Ошибка сервера"}}}};const Xa=(0,y.A)(Aa,[["render",$a],["__scopeId","data-v-2ef5a67e"]]);var xa=Xa;const Oa={class:"app-container"},Ta={key:0,class:"loading-message"},Na={key:1,class:"error-message"},Ia={key:2,class:"pet-details"},Ja={class:"pet-image-container"},Ua=["src"],Ma={key:1},Fa={class:"pet-info"},Wa={class:"action-buttons"},Sa={key:3,class:"error-message"};function Qa(a,t,e,s,o,n){return(0,r.uX)(),(0,r.CE)("div",Oa,[t[7]||(t[7]=(0,r.Lk)("h1",{class:"page-title"},"Просмотр ювелирного изделия",-1)),o.loading?((0,r.uX)(),(0,r.CE)("div",Ta,"Загрузка данных...")):o.errorMessage?((0,r.uX)(),(0,r.CE)("div",Na,(0,l.v_)(o.errorMessage),1)):o.jewelry?((0,r.uX)(),(0,r.CE)("div",Ia,[(0,r.Lk)("div",Ja,[o.jewelry.image?((0,r.uX)(),(0,r.CE)("img",{key:0,src:`${o.backendUrl}${o.jewelry.image}`,alt:"Jewelry Image",class:"pet-image"},null,8,Ua)):((0,r.uX)(),(0,r.CE)("span",Ma,"Нет изображения"))]),(0,r.Lk)("div",Fa,[(0,r.Lk)("p",null,[t[1]||(t[1]=(0,r.Lk)("strong",null,"Название:",-1)),(0,r.eW)(" "+(0,l.v_)(o.jewelry.name||"N/A"),1)]),(0,r.Lk)("p",null,[t[2]||(t[2]=(0,r.Lk)("strong",null,"Категория:",-1)),(0,r.eW)(" "+(0,l.v_)(o.jewelry.category||"N/A"),1)]),(0,r.Lk)("p",null,[t[3]||(t[3]=(0,r.Lk)("strong",null,"Материал:",-1)),(0,r.eW)(" "+(0,l.v_)(o.jewelry.material||"N/A"),1)]),(0,r.Lk)("p",null,[t[4]||(t[4]=(0,r.Lk)("strong",null,"Вес:",-1)),(0,r.eW)(" "+(0,l.v_)(o.jewelry.weight?Math.floor(o.jewelry.weight)+" г":"N/A"),1)]),(0,r.Lk)("p",null,[t[5]||(t[5]=(0,r.Lk)("strong",null,"Цена:",-1)),(0,r.eW)(" "+(0,l.v_)(o.jewelry.price?Math.floor(o.jewelry.price)+" ₽":"N/A"),1)]),(0,r.Lk)("p",null,[t[6]||(t[6]=(0,r.Lk)("strong",null,"В наличии:",-1)),(0,r.Lk)("span",{class:(0,l.C4)(["status",o.jewelry.in_stock?"available":"unavailable"])},(0,l.v_)(o.jewelry.in_stock?"Да":"Нет"),3)])]),(0,r.Lk)("div",Wa,[(0,r.Lk)("button",{class:"btn-secondary",onClick:t[0]||(t[0]=t=>a.$router.push("/jewelry"))},"Вернуться к списку")])])):((0,r.uX)(),(0,r.CE)("div",Sa,"Не удалось загрузить данные о ювелирном изделии."))])}var Da={data(){return{jewelry:null,loading:!0,errorMessage:null,backendUrl:"https://nodejs-production-0586.up.railway.app"}},async created(){const a=this.$route.params.id;if(!/^\d+$/.test(a))return this.errorMessage="Некорректный ID",void(this.loading=!1);await this.fetchJewelry(a)},methods:{async fetchJewelry(a){try{const t=await fetch(`${this.backendUrl}/api/view-jewelry/${a}`,{method:"GET",credentials:"include"});if(!t.ok){if(401===t.status)return void this.$router.push("/login");if(404===t.status)throw new Error("Ювелирное изделие не найдено");throw new Error(`HTTP error! Status: ${t.status}`)}const e=await t.json();this.jewelry=e}catch(t){console.error("Ошибка при получении данных ювелирного изделия:",t),this.errorMessage=t.message}finally{this.loading=!1}}}};const Ga=(0,y.A)(Da,[["render",Qa],["__scopeId","data-v-b53f2738"]]);var qa=Ga;const za={class:"app-container"},Ha={key:0,class:"loading-message"},Va={key:1,class:"error-message"},Ka={key:2,class:"pet-details"},Ra={class:"pet-image-container"},Ba=["src"],Ya={key:1},Za={class:"pet-info"},at={class:"action-buttons"},tt={key:3,class:"error-message"};function et(a,t,e,s,o,n){return(0,r.uX)(),(0,r.CE)("div",za,[t[6]||(t[6]=(0,r.Lk)("h1",{class:"page-title"},"Просмотр заказа",-1)),o.loading?((0,r.uX)(),(0,r.CE)("div",Ha,"Загрузка данных...")):o.errorMessage?((0,r.uX)(),(0,r.CE)("div",Va,(0,l.v_)(o.errorMessage),1)):o.order?((0,r.uX)(),(0,r.CE)("div",Ka,[(0,r.Lk)("div",Ra,[o.order.image?((0,r.uX)(),(0,r.CE)("img",{key:0,src:`${o.backendUrl}${o.order.image}`,alt:"Order Image",class:"pet-image"},null,8,Ba)):((0,r.uX)(),(0,r.CE)("span",Ya,"Нет изображения"))]),(0,r.Lk)("div",Za,[(0,r.Lk)("p",null,[t[1]||(t[1]=(0,r.Lk)("strong",null,"Имя клиента:",-1)),(0,r.eW)(" "+(0,l.v_)(o.order.client_name||"N/A"),1)]),(0,r.Lk)("p",null,[t[2]||(t[2]=(0,r.Lk)("strong",null,"Дата заказа:",-1)),(0,r.eW)(" "+(0,l.v_)(o.order.order_date?o.order.order_date.split("T")[0]:"N/A"),1)]),(0,r.Lk)("p",null,[t[3]||(t[3]=(0,r.Lk)("strong",null,"Сумма:",-1)),(0,r.eW)(" "+(0,l.v_)(o.order.total_amount?Math.floor(o.order.total_amount)+" ₽":"N/A"),1)]),(0,r.Lk)("p",null,[t[4]||(t[4]=(0,r.Lk)("strong",null,"Статус:",-1)),(0,r.Lk)("span",{class:(0,l.C4)(["status",o.order.status?`status-${o.order.status.replace(" ","-")}`:""])},(0,l.v_)(o.order.status||"N/A"),3)]),(0,r.Lk)("p",null,[t[5]||(t[5]=(0,r.Lk)("strong",null,"Адрес доставки:",-1)),(0,r.eW)(" "+(0,l.v_)(o.order.delivery_address||"N/A"),1)])]),(0,r.Lk)("div",at,[(0,r.Lk)("button",{class:"btn-secondary",onClick:t[0]||(t[0]=t=>a.$router.push("/orders"))},"Вернуться к списку")])])):((0,r.uX)(),(0,r.CE)("div",tt,"Не удалось загрузить данные о заказе."))])}var st={data(){return{order:null,loading:!0,errorMessage:null,backendUrl:"https://nodejs-production-0586.up.railway.app"}},async created(){const a=this.$route.params.id;if(!/^\d+$/.test(a))return this.errorMessage="Некорректный ID",void(this.loading=!1);await this.fetchOrder(a)},methods:{async fetchOrder(a){try{const t=await fetch(`${this.backendUrl}/api/view-order/${a}`,{method:"GET",credentials:"include"});if(!t.ok){if(401===t.status)return void this.$router.push("/login");if(404===t.status)throw new Error("Заказ не найден");throw new Error(`HTTP error! Status: ${t.status}`)}const e=await t.json();this.order=e}catch(t){console.error("Ошибка при получении данных заказа:",t),this.errorMessage=t.message}finally{this.loading=!1}}}};const rt=(0,y.A)(st,[["render",et],["__scopeId","data-v-7081654a"]]);var lt=rt;const ot=[{path:"/",component:$},{path:"/about",component:T},{path:"/contact",component:M},{path:"/jewelry",component:Z},{path:"/orders",component:ga},{path:"/login",component:La},{path:"/register",component:xa},{path:"/view-jewelry/:id",component:qa},{path:"/view-orders/:id",component:lt}],nt=(0,_.aE)({history:(0,_.LA)(),routes:ot});var dt=nt;const it=(0,s.Ef)(L);it.use(dt),it.mount("#app")}},t={};function e(s){var r=t[s];if(void 0!==r)return r.exports;var l=t[s]={exports:{}};return a[s].call(l.exports,l,l.exports,e),l.exports}e.m=a,function(){var a=[];e.O=function(t,s,r,l){if(!s){var o=1/0;for(c=0;c<a.length;c++){s=a[c][0],r=a[c][1],l=a[c][2];for(var n=!0,d=0;d<s.length;d++)(!1&l||o>=l)&&Object.keys(e.O).every((function(a){return e.O[a](s[d])}))?s.splice(d--,1):(n=!1,l<o&&(o=l));if(n){a.splice(c--,1);var i=r();void 0!==i&&(t=i)}}return t}l=l||0;for(var c=a.length;c>0&&a[c-1][2]>l;c--)a[c]=a[c-1];a[c]=[s,r,l]}}(),function(){e.n=function(a){var t=a&&a.__esModule?function(){return a["default"]}:function(){return a};return e.d(t,{a:t}),t}}(),function(){e.d=function(a,t){for(var s in t)e.o(t,s)&&!e.o(a,s)&&Object.defineProperty(a,s,{enumerable:!0,get:t[s]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(a){if("object"===typeof window)return window}}()}(),function(){e.o=function(a,t){return Object.prototype.hasOwnProperty.call(a,t)}}(),function(){var a={524:0};e.O.j=function(t){return 0===a[t]};var t=function(t,s){var r,l,o=s[0],n=s[1],d=s[2],i=0;if(o.some((function(t){return 0!==a[t]}))){for(r in n)e.o(n,r)&&(e.m[r]=n[r]);if(d)var c=d(e)}for(t&&t(s);i<o.length;i++)l=o[i],e.o(a,l)&&a[l]&&a[l][0](),a[l]=0;return e.O(c)},s=self["webpackChunkvueapp"]=self["webpackChunkvueapp"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=e.O(void 0,[504],(function(){return e(4719)}));s=e.O(s)})();
//# sourceMappingURL=app.333c91ae.js.map