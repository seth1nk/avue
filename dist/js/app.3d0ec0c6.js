(function(){"use strict";var e={7898:function(e,t,a){var s=a(5130),r=a(6768),l=a(4232);const n={class:"wrapper"},o={class:"right-panel"},i={class:"logo-container"},c={class:"nav-buttons"},d={class:"button-list"},u={key:0},p={key:1},m={key:2},g={key:3},h={key:4,class:"welcome-message"},v={key:5},k={key:6};function f(e,t,a,s,f,b){const L=(0,r.g2)("router-view"),y=(0,r.g2)("TheWelcome"),w=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Lk)("header",null,[(0,r.Lk)("div",n,[(0,r.bF)(L)]),t[1]||(t[1]=(0,r.Lk)("link",{href:"https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap",rel:"stylesheet"},null,-1))]),(0,r.Lk)("main",null,[(0,r.bF)(y)]),(0,r.Lk)("aside",o,[(0,r.Lk)("div",i,[(0,r.bF)(w,{to:"/"},{default:(0,r.k6)((()=>t[2]||(t[2]=[(0,r.Lk)("img",{src:"/images/logo.png",alt:"Logo",class:"logo"},null,-1)]))),_:1})]),(0,r.Lk)("nav",c,[(0,r.Lk)("ul",d,[(0,r.Lk)("li",null,[(0,r.bF)(w,{to:"/",class:"button"},{default:(0,r.k6)((()=>t[3]||(t[3]=[(0,r.eW)("Главная")]))),_:1})]),(0,r.Lk)("li",null,[(0,r.bF)(w,{to:"/about",class:"button"},{default:(0,r.k6)((()=>t[4]||(t[4]=[(0,r.eW)("О нас")]))),_:1})]),(0,r.Lk)("li",null,[(0,r.bF)(w,{to:"/contact",class:"button"},{default:(0,r.k6)((()=>t[5]||(t[5]=[(0,r.eW)("Контакты")]))),_:1})]),f.isAuthenticated?((0,r.uX)(),(0,r.CE)("li",u,[(0,r.bF)(w,{to:"/parfumes",class:"button"},{default:(0,r.k6)((()=>t[6]||(t[6]=[(0,r.eW)("Парфюмы")]))),_:1})])):(0,r.Q3)("",!0),f.isAuthenticated?((0,r.uX)(),(0,r.CE)("li",p,[(0,r.bF)(w,{to:"/orders",class:"button"},{default:(0,r.k6)((()=>t[7]||(t[7]=[(0,r.eW)("Заказы")]))),_:1})])):(0,r.Q3)("",!0),f.isAuthenticated?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("li",m,[(0,r.bF)(w,{to:"/login",class:"button"},{default:(0,r.k6)((()=>t[8]||(t[8]=[(0,r.eW)("Войти")]))),_:1})])),f.isAuthenticated?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("li",g,[(0,r.bF)(w,{to:"/register",class:"button"},{default:(0,r.k6)((()=>t[9]||(t[9]=[(0,r.eW)("Зарегистрироваться")]))),_:1})])),f.isAuthenticated?((0,r.uX)(),(0,r.CE)("li",h,[(0,r.Lk)("span",null,"Добро пожаловать, "+(0,l.v_)(f.username),1)])):(0,r.Q3)("",!0),f.isAuthenticated?((0,r.uX)(),(0,r.CE)("li",v,[(0,r.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>b.logout&&b.logout(...e)),class:"button"},"Выйти")])):(0,r.Q3)("",!0),f.isAuthenticated&&"admin"===f.role?((0,r.uX)(),(0,r.CE)("li",k,t[10]||(t[10]=[(0,r.Lk)("a",{href:"http://localhost:3000",class:"admin-button"},"Админ-панель",-1)]))):(0,r.Q3)("",!0)])])])],64)}a(4114);var b={data(){return{isAuthenticated:!1,username:"",role:""}},created(){this.checkAuth()},methods:{async checkAuth(){try{const e=await fetch("http://localhost:3000/auth/check",{method:"GET",credentials:"include"}),t=await e.json();e.ok?(this.isAuthenticated=!0,this.username=t.username||"Пользователь",this.role=t.role||""):(console.error("Токен недействителен:",t.message),this.isAuthenticated=!1,this.username="",this.role="")}catch(e){console.error("Ошибка проверки авторизации:",e),this.isAuthenticated=!1,this.username="",this.role=""}},async logout(){try{const e=await fetch("http://localhost:3000/auth/logout",{method:"GET",credentials:"include"});e.ok?(this.isAuthenticated=!1,this.username="",this.role="",this.$router.push("/")):console.error("Сервер вернул ошибку при выходе")}catch(e){console.error("Ошибка выхода:",e),this.isAuthenticated=!1,this.username="",this.role="",this.$router.push("/")}}}},L=a(1241);const y=(0,L.A)(b,[["render",f],["__scopeId","data-v-361fa662"]]);var w=y,x=a(1387);const _={class:"container"},E={class:"flex flex-col sm:flex-row gap-6 mb-10 justify-center"},C=["src","alt"],P={class:"card-body"},A={class:"text-xl font-bold text-center mb-3"},X={class:"card-text text-center"},$={class:"grid grid-cols-1 md:grid-cols-1 gap-6 mb-12"},O={class:"content-block card fade-in",style:{animationDelay:"0.2s"}},I={class:"text-lg space-y-4"},T={class:"text-gray-600"};function N(e,t,a,s,n,o){return(0,r.uX)(),(0,r.CE)("main",null,[(0,r.Lk)("div",_,[t[2]||(t[2]=(0,r.Lk)("h1",{class:"page-title"},"Продажа парфюмерии",-1)),(0,r.Lk)("div",E,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.services,((e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:"image-block-centered card fade-in",key:t,style:(0,l.Tr)({animationDelay:.2*t+"s"})},[(0,r.Lk)("img",{src:e.image,alt:e.name,class:"img-block h-48 w-full object-cover"},null,8,C),(0,r.Lk)("div",P,[(0,r.Lk)("h5",A,(0,l.v_)(e.name),1),(0,r.Lk)("p",X,(0,l.v_)(e.description),1)])],4)))),128))]),(0,r.Lk)("div",$,[(0,r.Lk)("div",O,[t[1]||(t[1]=(0,r.Lk)("h4",{class:"text-2xl font-bold mb-4 text-center"},"Почему мы?",-1)),(0,r.Lk)("ul",I,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.reasons,((e,a)=>((0,r.uX)(),(0,r.CE)("li",{class:"flex items-center bg-white bg-opacity-20 p-3 rounded-lg fade-in",key:a,style:(0,l.Tr)({animationDelay:.2*(a+1)+"s"})},[t[0]||(t[0]=(0,r.Lk)("span",{class:"text-green-500 mr-3 text-2xl"},"✅",-1)),(0,r.Lk)("span",T,(0,l.v_)(e),1)],4)))),128))])])])])])}a(8111),a(7588);var j={name:"HomePage",data(){return{services:[{name:"Цветочная коллекция",description:"Нежные и романтичные ароматы с цветочными нотами для особых моментов.",image:"/images/1.jpg"},{name:"Древесная серия",description:"Глубокие и тёплые древесные ароматы для уверенных и элегантных личностей.",image:"/images/2.jpg"},{name:"Цитрусовая линия",description:"Свежие и энергичные цитрусовые ароматы для ярких и динамичных дней.",image:"/images/3.png"}],reasons:["Широкий выбор ароматов для любого вкуса и повода","Гарантия подлинности от ведущих парфюмерных брендов","Индивидуальные консультации и гибкие условия покупки"]}},mounted(){try{const e=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting&&(t.target.classList.add("visible"),e.unobserve(t.target))}))}),{threshold:.1});this.$el.querySelectorAll(".fade-in").forEach((t=>{e.observe(t)}))}catch(e){console.error("Error setting up IntersectionObserver:",e)}}};const W=(0,L.A)(j,[["render",N],["__scopeId","data-v-2e387739"]]);var F=W;const S={class:"container"},Q={class:"content-block fade-in",ref:"block1"},U={class:"content-block fade-in",ref:"block2"},M={class:"content-block fade-in",ref:"block3"},q={class:"content-block fade-in",ref:"block4"},D={class:"content-block fade-in",ref:"block5"};function G(e,t,a,s,l,n){return(0,r.uX)(),(0,r.CE)("main",null,[(0,r.Lk)("div",S,[t[5]||(t[5]=(0,r.Lk)("h1",{class:"page-title"},"О нашем парфюмерном магазине",-1)),(0,r.Lk)("div",Q,t[0]||(t[0]=[(0,r.Fv)('<div class="flex flex-col md:flex-row items-center gap-6" data-v-3c052a77><div class="md:w-1/2 text-block" data-v-3c052a77><h2 class="text-2xl font-bold mb-4" data-v-3c052a77>Ассортимент ароматов</h2><p class="fs-5" data-v-3c052a77> Широкий выбор парфюмов: от свежих цитрусовых до глубоких древесных нот. Eau de Parfum, Eau de Toilette и эксклюзивные композиции. </p></div><div class="md:w-1/2 image-block" data-v-3c052a77><img src="/images/11.png" alt="Ассортимент ароматов" class="img-block" data-v-3c052a77></div></div>',1)]),512),(0,r.Lk)("div",U,t[1]||(t[1]=[(0,r.Fv)('<div class="flex flex-col md:flex-row items-center gap-6" data-v-3c052a77><div class="md:w-1/2 image-block order-2 md:order-1" data-v-3c052a77><img src="/images/22.jpg" alt="Качество ингредиентов" class="img-block" data-v-3c052a77></div><div class="md:w-1/2 text-block order-1 md:order-2" data-v-3c052a77><h2 class="text-2xl font-bold mb-4" data-v-3c052a77>Качество ингредиентов</h2><p class="fs-5" data-v-3c052a77> Используем только натуральные масла и эссенции от ведущих мировых поставщиков для стойкости и уникальности аромата. </p></div></div>',1)]),512),(0,r.Lk)("div",M,t[2]||(t[2]=[(0,r.Fv)('<div class="flex flex-col md:flex-row items-center gap-6" data-v-3c052a77><div class="md:w-1/2 text-block" data-v-3c052a77><h2 class="text-2xl font-bold mb-4" data-v-3c052a77>Персональный подбор</h2><p class="fs-5" data-v-3c052a77> Наши консультанты помогут выбрать аромат, подходящий вашему стилю, настроению и событию. </p></div><div class="md:w-1/2 image-block" data-v-3c052a77><img src="/images/33.png" alt="Персональный подбор" class="img-block" data-v-3c052a77></div></div>',1)]),512),(0,r.Lk)("div",q,t[3]||(t[3]=[(0,r.Fv)('<div class="flex flex-col md:flex-row items-center gap-6" data-v-3c052a77><div class="md:w-1/2 image-block order-2 md:order-1" data-v-3c052a77><img src="/images/44.jpg" alt="Эксклюзивные коллекции" class="img-block" data-v-3c052a77></div><div class="md:w-1/2 text-block order-1 md:order-2" data-v-3c052a77><h2 class="text-2xl font-bold mb-4" data-v-3c052a77>Эксклюзивные коллекции</h2><p class="fs-5" data-v-3c052a77> Уникальные лимитированные ароматы от известных парфюмерных домов для ценителей роскоши. </p></div></div>',1)]),512),(0,r.Lk)("div",D,t[4]||(t[4]=[(0,r.Fv)('<div class="flex flex-col md:flex-row items-center gap-6" data-v-3c052a77><div class="md:w-1/2 text-block" data-v-3c052a77><h2 class="text-2xl font-bold mb-4" data-v-3c052a77>Экологичность</h2><p class="fs-5" data-v-3c052a77> Упаковка из перерабатываемых материалов и экологически чистое производство для сохранения природы. </p></div><div class="md:w-1/2 image-block" data-v-3c052a77><img src="/images/55.jpg" alt="Экологичность" class="img-block" data-v-3c052a77></div></div>',1)]),512)])])}var H={name:"AboutPage",mounted(){try{const e=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting&&(t.target.classList.add("visible"),e.unobserve(t.target))}))}),{threshold:.1});this.$el.querySelectorAll(".fade-in").forEach((t=>{e.observe(t)}))}catch(e){console.error("Error setting up IntersectionObserver:",e)}}};const J=(0,L.A)(H,[["render",G],["__scopeId","data-v-3c052a77"]]);var V=J;const K={class:"container"},z={class:"mb-12"},R={class:"employees-row"},Z={class:"card"},B=["src","alt"],Y={class:"card-body"},ee={class:"card-title"},te={class:"card-text"},ae={class:"card-text text-gray-600"};function se(e,t,a,s,n,o){return(0,r.uX)(),(0,r.CE)("main",null,[(0,r.Lk)("div",K,[t[1]||(t[1]=(0,r.Fv)('<h1 class="page-title" data-v-a321e64e>Наши консультанты</h1><div class="content-block fade-in mb-12" data-v-a321e64e><div class="text-block" data-v-a321e64e><h2 class="text-2xl font-bold text-center mb-4" data-v-a321e64e>О нашем сервисе</h2><p class="fs-5 text-center" data-v-a321e64e> Сервис &quot;ПарфюмМастер&quot; — это профессиональный подбор и продажа парфюмерии. Мы предлагаем широкий ассортимент ароматов от ведущих брендов и эксклюзивные коллекции. </p></div></div>',2)),(0,r.Lk)("div",z,[t[0]||(t[0]=(0,r.Lk)("h2",{class:"text-2xl font-bold text-center mb-6"},"Наши консультанты",-1)),(0,r.Lk)("div",R,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.employees,((e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:"employee-card photo-card fade-in",key:t,style:(0,l.Tr)({animationDelay:.2*t+"s"})},[(0,r.Lk)("div",Z,[(0,r.Lk)("img",{src:e.image,alt:e.name,class:"card-img-top"},null,8,B),(0,r.Lk)("div",Y,[(0,r.Lk)("h3",ee,(0,l.v_)(e.name),1),(0,r.Lk)("p",te,(0,l.v_)(e.role),1),(0,r.Lk)("p",ae,"Стаж: "+(0,l.v_)(e.experience),1)])])],4)))),128))])]),t[2]||(t[2]=(0,r.Fv)('<div class="content-block fade-in" data-v-a321e64e><div class="text-block" data-v-a321e64e><h2 class="text-2xl font-bold text-center mb-6" data-v-a321e64e>Наши услуги</h2></div><div class="grid grid-cols-1 md:grid-cols-3 gap-6" data-v-a321e64e><div class="text-center fade-in" style="animation-delay:0.2s;" data-v-a321e64e><h3 class="text-xl font-bold mb-2" data-v-a321e64e>+ Персональный подбор</h3><p class="text-gray-600" data-v-a321e64e>Консультации по выбору аромата под ваш стиль и повод.</p></div><div class="text-center fade-in" style="animation-delay:0.4s;" data-v-a321e64e><h3 class="text-xl font-bold mb-2" data-v-a321e64e>+ Эксклюзивные ароматы</h3><p class="text-gray-600" data-v-a321e64e>Лимитированные коллекции от известных парфюмерных домов.</p></div><div class="text-center fade-in" style="animation-delay:0.6s;" data-v-a321e64e><h3 class="text-xl font-bold mb-2" data-v-a321e64e>+ Доставка</h3><p class="text-gray-600" data-v-a321e64e>Быстрая и надёжная доставка по всей стране.</p></div></div></div>',1))])])}var re={name:"ContactPage",data(){return{employees:[{name:"Анна Петрова",role:"Ведущий консультант по ароматам",experience:"6 лет",image:"/images/t1.png"},{name:"Марина Соколова",role:"Специалист по нишевым ароматам",experience:"4 года",image:"/images/t2.jpg"},{name:"Елена Морозова",role:"Старший менеджер по продажам",experience:"8 лет",image:"/images/t3.jpg"},{name:"Татьяна Волкова",role:"Консультант по мужским ароматам",experience:"3 года",image:"/images/t4.jpg"},{name:"Ольга Новикова",role:"Менеджер по клиентскому сервису",experience:"5 лет",image:"/images/t5.png"},{name:"Виктор Лебедев",role:"Специалист по унисекс-ароматам",experience:"2 года",image:"/images/t6.jpg"}]}},mounted(){try{const e=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting&&(t.target.classList.add("visible"),e.unobserve(t.target))}))}),{threshold:.1});this.$el.querySelectorAll(".fade-in").forEach((t=>{e.observe(t)}))}catch(e){console.error("Error setting up IntersectionObserver:",e)}}};const le=(0,L.A)(re,[["render",se],["__scopeId","data-v-a321e64e"]]);var ne=le;const oe={class:"app-container"},ie={style:{"text-align":"center","margin-bottom":"20px"}},ce={class:"table-container"},de={class:"styled-table orders-table"},ue=["src"],pe={key:1},me={class:"action-buttons"},ge={key:0,class:"no-data"},he={key:1,class:"pagination"},ve=["disabled"],ke=["disabled"];function fe(e,t,a,s,n,o){const i=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",null,[t[6]||(t[6]=(0,r.Lk)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css",integrity:"sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==",crossorigin:"anonymous",referrerpolicy:"no-referrer"},null,-1)),(0,r.Lk)("div",oe,[t[5]||(t[5]=(0,r.Lk)("h1",{class:"page-title"},"Список заказов",-1)),(0,r.Lk)("div",ie,[(0,r.bF)(i,{to:"/orders/create",class:"btn-primary"},{default:(0,r.k6)((()=>t[2]||(t[2]=[(0,r.eW)("Добавить заказ")]))),_:1})]),(0,r.Lk)("div",ce,[(0,r.Lk)("table",de,[t[4]||(t[4]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"ID"),(0,r.Lk)("th",null,"Имя клиента"),(0,r.Lk)("th",null,"Email клиента"),(0,r.Lk)("th",null,"Общая сумма"),(0,r.Lk)("th",null,"Статус"),(0,r.Lk)("th",null,"Метод оплаты"),(0,r.Lk)("th",null,"Метод доставки"),(0,r.Lk)("th",null,"Адрес доставки"),(0,r.Lk)("th",null,"Фото"),(0,r.Lk)("th",null,"Действия")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.orders,((e,a)=>((0,r.uX)(),(0,r.CE)("tr",{key:e.id},[(0,r.Lk)("td",null,(0,l.v_)((n.currentPage-1)*n.pageSize+a+1),1),(0,r.Lk)("td",null,(0,l.v_)(e.customer_name||"N/A"),1),(0,r.Lk)("td",null,(0,l.v_)(e.customer_email||"N/A"),1),(0,r.Lk)("td",null,(0,l.v_)(e.total_amount?`${e.total_amount} ₽`:"N/A"),1),(0,r.Lk)("td",null,[(0,r.Lk)("span",{class:(0,l.C4)(["status",o.getStatusClass(e.status)])},(0,l.v_)(e.status||"N/A"),3)]),(0,r.Lk)("td",null,(0,l.v_)(e.payment_method||"N/A"),1),(0,r.Lk)("td",null,(0,l.v_)(e.delivery_method||"N/A"),1),(0,r.Lk)("td",null,(0,l.v_)(e.shipping_address||"N/A"),1),(0,r.Lk)("td",null,[e.photo?((0,r.uX)(),(0,r.CE)("img",{key:0,src:`${n.backendUrl}${e.photo.replace("/img/","/images/")}`,alt:"Order Photo",class:"product-image"},null,8,ue)):((0,r.uX)(),(0,r.CE)("span",pe,"N/A"))]),(0,r.Lk)("td",null,[(0,r.Lk)("div",me,[(0,r.bF)(i,{to:`/view-orders/${e.id}`,class:"action-btn view-icon"},{default:(0,r.k6)((()=>t[3]||(t[3]=[(0,r.Lk)("i",{class:"fas fa-eye"},null,-1)]))),_:2},1032,["to"])])])])))),128))])]),n.orders.length?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("p",ge,"Нет заказов")),n.totalPages>1?((0,r.uX)(),(0,r.CE)("div",he,[(0,r.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>o.prevPage&&o.prevPage(...e)),disabled:1===n.currentPage},"← Предыдущая",8,ve),(0,r.Lk)("span",null,"Страница "+(0,l.v_)(n.currentPage)+" из "+(0,l.v_)(n.totalPages),1),(0,r.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>o.nextPage&&o.nextPage(...e)),disabled:n.currentPage===n.totalPages},"Следующая →",8,ke)])):(0,r.Q3)("",!0)])])])}var be={data(){return{orders:[],currentPage:1,totalPages:0,pageSize:10,backendUrl:"http://localhost:3000"}},async created(){await this.fetchOrders()},methods:{async fetchOrders(){try{const e=await fetch(`${this.backendUrl}/api/orders?page=${this.currentPage}`,{method:"GET",credentials:"include"});if(!e.ok){if(401===e.status)return void this.$router.push("/login");throw new Error(`HTTP error! Status: ${e.status}`)}const t=await e.json();this.orders=t.orders||[],this.totalPages=t.totalPages||0,this.currentPage=t.currentPage||1}catch(e){console.error("Error fetching orders:",e),this.orders=[],this.totalPages=0}},async prevPage(){this.currentPage>1&&(this.currentPage--,await this.fetchOrders())},async nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,await this.fetchOrders())},getStatusClass(e){switch(e){case"новый":return"pending";case"в обработке":return"in-progress";case"завершен":return"completed";case"отменен":return"cancelled";default:return"pending"}}}};const Le=(0,L.A)(be,[["render",fe],["__scopeId","data-v-df508caa"]]);var ye=Le;const we={class:"app-container"},xe={class:"table-container"},_e={class:"styled-table parfumes-table"},Ee=["src"],Ce={key:1},Pe={class:"action-buttons"},Ae={key:0,class:"no-data"},Xe={key:1,class:"pagination"},$e=["disabled"],Oe=["disabled"];function Ie(e,t,a,s,n,o){const i=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",null,[t[5]||(t[5]=(0,r.Lk)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css",integrity:"sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==",crossorigin:"anonymous",referrerpolicy:"no-referrer"},null,-1)),(0,r.Lk)("div",we,[t[4]||(t[4]=(0,r.Lk)("h1",{class:"page-title"},"Список парфюмов",-1)),(0,r.Lk)("div",xe,[(0,r.Lk)("table",_e,[t[3]||(t[3]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"ID"),(0,r.Lk)("th",null,"Название"),(0,r.Lk)("th",null,"Тип"),(0,r.Lk)("th",null,"Объем (мл)"),(0,r.Lk)("th",null,"Цена"),(0,r.Lk)("th",null,"В наличии"),(0,r.Lk)("th",null,"Описание"),(0,r.Lk)("th",null,"Гендер"),(0,r.Lk)("th",null,"Фото"),(0,r.Lk)("th",null,"Действия")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.parfumes,((e,a)=>((0,r.uX)(),(0,r.CE)("tr",{key:e.id},[(0,r.Lk)("td",null,(0,l.v_)((n.currentPage-1)*n.pageSize+a+1),1),(0,r.Lk)("td",null,(0,l.v_)(e.name||"N/A"),1),(0,r.Lk)("td",null,(0,l.v_)(e.type||"N/A"),1),(0,r.Lk)("td",null,(0,l.v_)(e.volume_ml||"N/A"),1),(0,r.Lk)("td",null,(0,l.v_)(e.price?`${e.price} ₽`:"N/A"),1),(0,r.Lk)("td",null,[(0,r.Lk)("span",{class:(0,l.C4)(["status",o.getStatusClass(e.in_stock)])},(0,l.v_)(e.in_stock?"В наличии":"Нет в наличии"),3)]),(0,r.Lk)("td",null,(0,l.v_)(e.description||"N/A"),1),(0,r.Lk)("td",null,(0,l.v_)(e.gender||"N/A"),1),(0,r.Lk)("td",null,[e.photo?((0,r.uX)(),(0,r.CE)("img",{key:0,src:`${n.backendUrl}${e.photo.replace("/img/","/images/")}`,alt:"Parfume Photo",class:"product-image"},null,8,Ee)):((0,r.uX)(),(0,r.CE)("span",Ce,"N/A"))]),(0,r.Lk)("td",null,[(0,r.Lk)("div",Pe,[(0,r.bF)(i,{to:`/view-parfumes/${e.id}`,class:"action-btn view-icon"},{default:(0,r.k6)((()=>t[2]||(t[2]=[(0,r.Lk)("i",{class:"fas fa-eye"},null,-1)]))),_:2},1032,["to"])])])])))),128))])]),n.parfumes.length?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("p",Ae,"Нет парфюмов")),n.totalPages>1?((0,r.uX)(),(0,r.CE)("div",Xe,[(0,r.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>o.prevPage&&o.prevPage(...e)),disabled:1===n.currentPage},"← Предыдущая",8,$e),(0,r.Lk)("span",null,"Страница "+(0,l.v_)(n.currentPage)+" из "+(0,l.v_)(n.totalPages),1),(0,r.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>o.nextPage&&o.nextPage(...e)),disabled:n.currentPage===n.totalPages},"Следующая →",8,Oe)])):(0,r.Q3)("",!0)])])])}var Te={data(){return{parfumes:[],currentPage:1,totalPages:0,pageSize:10,backendUrl:"http://localhost:3000"}},async created(){await this.fetchParfumes()},methods:{async fetchParfumes(){try{const e=await fetch(`${this.backendUrl}/api/parfumes?page=${this.currentPage}`,{method:"GET",credentials:"include"});if(!e.ok){if(401===e.status)return void this.$router.push("/login");throw new Error(`HTTP error! Status: ${e.status}`)}const t=await e.json();this.parfumes=t.parfumes||[],this.totalPages=t.totalPages||0,this.currentPage=t.currentPage||1}catch(e){console.error("Error fetching parfumes:",e),this.parfumes=[],this.totalPages=0}},async prevPage(){this.currentPage>1&&(this.currentPage--,await this.fetchParfumes())},async nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,await this.fetchParfumes())},getStatusClass(e){return e?"available":"unavailable"}}};const Ne=(0,L.A)(Te,[["render",Ie],["__scopeId","data-v-a7077c06"]]);var je=Ne;const We={class:"container"},Fe={class:"form-group"},Se={class:"form-group"},Qe={key:0,class:"error"};function Ue(e,t,a,n,o,i){return(0,r.uX)(),(0,r.CE)("div",We,[t[6]||(t[6]=(0,r.Lk)("h2",null,"Вход",-1)),(0,r.Lk)("form",{onSubmit:t[2]||(t[2]=(0,s.D$)(((...e)=>i.login&&i.login(...e)),["prevent"]))},[(0,r.Lk)("div",Fe,[t[3]||(t[3]=(0,r.Lk)("label",{for:"email"},"Email:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=e=>o.email=e),required:"",class:"form-input"},null,512),[[s.Jo,o.email]])]),(0,r.Lk)("div",Se,[t[4]||(t[4]=(0,r.Lk)("label",{for:"password"},"Пароль:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=e=>o.password=e),required:"",class:"form-input"},null,512),[[s.Jo,o.password]])]),t[5]||(t[5]=(0,r.Lk)("button",{type:"submit",class:"btn btn-primary"},"Войти",-1)),o.error?((0,r.uX)(),(0,r.CE)("p",Qe,(0,l.v_)(o.error),1)):(0,r.Q3)("",!0)],32)])}var Me={data(){return{email:"",password:"",error:""}},methods:{async login(){try{console.log("Logging in with data:",{email:this.email,password:this.password});const e=await fetch("http://localhost:3000/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:this.email,password:this.password})}),t=await e.json();console.log("Login response:",t),e.ok?(localStorage.setItem("token",t.token),this.$router.push("/"),setTimeout((()=>{location.reload()}),500)):this.error=t.message||"Ошибка входа"}catch(e){console.error("Error during login:",e),this.error="Ошибка сервера"}}}};const qe=(0,L.A)(Me,[["render",Ue],["__scopeId","data-v-0c964ea8"]]);var De=qe;const Ge={class:"container"},He={class:"form-group"},Je={class:"form-group"},Ve={class:"form-group"},Ke={key:0,class:"error"};function ze(e,t,a,n,o,i){return(0,r.uX)(),(0,r.CE)("div",Ge,[t[8]||(t[8]=(0,r.Lk)("h2",null,"Регистрация",-1)),(0,r.Lk)("form",{onSubmit:t[3]||(t[3]=(0,s.D$)(((...e)=>i.register&&i.register(...e)),["prevent"]))},[(0,r.Lk)("div",He,[t[4]||(t[4]=(0,r.Lk)("label",{for:"username"},"Имя пользователя:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"username","onUpdate:modelValue":t[0]||(t[0]=e=>o.username=e),required:"",class:"form-input"},null,512),[[s.Jo,o.username]])]),(0,r.Lk)("div",Je,[t[5]||(t[5]=(0,r.Lk)("label",{for:"email"},"Email:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":t[1]||(t[1]=e=>o.email=e),required:"",class:"form-input"},null,512),[[s.Jo,o.email]])]),(0,r.Lk)("div",Ve,[t[6]||(t[6]=(0,r.Lk)("label",{for:"password"},"Пароль:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":t[2]||(t[2]=e=>o.password=e),required:"",class:"form-input"},null,512),[[s.Jo,o.password]])]),t[7]||(t[7]=(0,r.Lk)("button",{type:"submit",class:"btn btn-primary"},"Зарегистрироваться",-1)),o.error?((0,r.uX)(),(0,r.CE)("p",Ke,(0,l.v_)(o.error),1)):(0,r.Q3)("",!0)],32)])}var Re={data(){return{username:"",email:"",password:"",error:""}},methods:{async register(){try{console.log("Registering user with data:",{username:this.username,email:this.email,password:this.password});const e=await fetch("http://localhost:3000/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.username,email:this.email,password:this.password})}),t=await e.json();console.log("Registration response:",t),e.ok?this.$router.push("/login"):this.error=t.message||"Ошибка регистрации"}catch(e){console.error("Error during registration:",e),this.error="Ошибка сервера"}}}};const Ze=(0,L.A)(Re,[["render",ze],["__scopeId","data-v-4c6411a6"]]);var Be=Ze;const Ye={class:"app-container"},et={key:0,class:"loading-message"},tt={key:1,class:"error-message"},at={key:2,class:"order-details"},st={class:"product-image-container"},rt=["src"],lt={key:1},nt={class:"order-info"},ot={class:"action-buttons"},it={key:3,class:"error-message"};function ct(e,t,a,s,n,o){return(0,r.uX)(),(0,r.CE)("div",Ye,[t[9]||(t[9]=(0,r.Lk)("h1",{class:"page-title"},"Просмотр заказа",-1)),n.loading?((0,r.uX)(),(0,r.CE)("div",et,"Загрузка данных...")):n.errorMessage?((0,r.uX)(),(0,r.CE)("div",tt,(0,l.v_)(n.errorMessage),1)):n.order?((0,r.uX)(),(0,r.CE)("div",at,[(0,r.Lk)("div",st,[n.order.photo?((0,r.uX)(),(0,r.CE)("img",{key:0,src:`${n.backendUrl}${n.order.photo.replace("/img/","/images/")}`,alt:"Order Photo",class:"product-image"},null,8,rt)):((0,r.uX)(),(0,r.CE)("span",lt,"Нет изображения"))]),(0,r.Lk)("div",nt,[(0,r.Lk)("p",null,[t[1]||(t[1]=(0,r.Lk)("strong",null,"Имя клиента:",-1)),(0,r.eW)(" "+(0,l.v_)(n.order.customer_name||"N/A"),1)]),(0,r.Lk)("p",null,[t[2]||(t[2]=(0,r.Lk)("strong",null,"Email клиента:",-1)),(0,r.eW)(" "+(0,l.v_)(n.order.customer_email||"N/A"),1)]),(0,r.Lk)("p",null,[t[3]||(t[3]=(0,r.Lk)("strong",null,"Общая сумма:",-1)),(0,r.eW)(" "+(0,l.v_)(n.order.total_amount?`${n.order.total_amount} ₽`:"N/A"),1)]),(0,r.Lk)("p",null,[t[4]||(t[4]=(0,r.Lk)("strong",null,"Статус:",-1)),(0,r.Lk)("span",{class:(0,l.C4)(["status",o.getStatusClass(n.order.status)])},(0,l.v_)(n.order.status||"N/A"),3)]),(0,r.Lk)("p",null,[t[5]||(t[5]=(0,r.Lk)("strong",null,"Метод оплаты:",-1)),(0,r.eW)(" "+(0,l.v_)(n.order.payment_method||"N/A"),1)]),(0,r.Lk)("p",null,[t[6]||(t[6]=(0,r.Lk)("strong",null,"Метод доставки:",-1)),(0,r.eW)(" "+(0,l.v_)(n.order.delivery_method||"N/A"),1)]),(0,r.Lk)("p",null,[t[7]||(t[7]=(0,r.Lk)("strong",null,"Адрес доставки:",-1)),(0,r.eW)(" "+(0,l.v_)(n.order.shipping_address||"N/A"),1)]),(0,r.Lk)("p",null,[t[8]||(t[8]=(0,r.Lk)("strong",null,"Дата создания:",-1)),(0,r.eW)(" "+(0,l.v_)(n.order.created_at||"N/A"),1)])]),(0,r.Lk)("div",ot,[(0,r.Lk)("button",{class:"btn-secondary",onClick:t[0]||(t[0]=t=>e.$router.push("/orders"))},"Вернуться к списку")])])):((0,r.uX)(),(0,r.CE)("div",it,"Не удалось загрузить данные о заказе."))])}var dt={data(){return{order:null,loading:!0,errorMessage:null,backendUrl:"http://localhost:3000"}},async created(){const e=this.$route.params.id;if(!/^\d+$/.test(e))return this.errorMessage="Некорректный ID",void(this.loading=!1);await this.fetchOrder(e)},methods:{async fetchOrder(e){try{const t=await fetch(`${this.backendUrl}/api/view-order/${e}`,{method:"GET",credentials:"include"});if(!t.ok){if(401===t.status)return void this.$router.push("/login");if(404===t.status)throw new Error("Заказ не найден");throw new Error(`HTTP error! Status: ${t.status}`)}const a=await t.json();this.order=a}catch(t){console.error("Ошибка при получении данных заказа:",t),this.errorMessage=t.message}finally{this.loading=!1}},getStatusClass(e){switch(e){case"новый":return"pending";case"в обработке":return"in-progress";case"завершен":return"completed";case"отменен":return"cancelled";default:return"pending"}}}};const ut=(0,L.A)(dt,[["render",ct],["__scopeId","data-v-751f33f4"]]);var pt=ut;const mt={class:"app-container"},gt={key:0,class:"loading-message"},ht={key:1,class:"error-message"},vt={key:2,class:"parfume-details"},kt={class:"product-image-container"},ft=["src"],bt={key:1},Lt={class:"parfume-info"},yt={class:"action-buttons"},wt={key:3,class:"error-message"};function xt(e,t,a,s,n,o){return(0,r.uX)(),(0,r.CE)("div",mt,[t[8]||(t[8]=(0,r.Lk)("h1",{class:"page-title"},"Просмотр парфюма",-1)),n.loading?((0,r.uX)(),(0,r.CE)("div",gt,"Загрузка данных...")):n.errorMessage?((0,r.uX)(),(0,r.CE)("div",ht,(0,l.v_)(n.errorMessage),1)):n.parfume?((0,r.uX)(),(0,r.CE)("div",vt,[(0,r.Lk)("div",kt,[n.parfume.photo?((0,r.uX)(),(0,r.CE)("img",{key:0,src:`${n.backendUrl}${n.parfume.photo.replace("/img/","/images/")}`,alt:"Parfume Photo",class:"product-image"},null,8,ft)):((0,r.uX)(),(0,r.CE)("span",bt,"Нет изображения"))]),(0,r.Lk)("div",Lt,[(0,r.Lk)("p",null,[t[1]||(t[1]=(0,r.Lk)("strong",null,"Название:",-1)),(0,r.eW)(" "+(0,l.v_)(n.parfume.name||"N/A"),1)]),(0,r.Lk)("p",null,[t[2]||(t[2]=(0,r.Lk)("strong",null,"Тип:",-1)),(0,r.eW)(" "+(0,l.v_)(n.parfume.type||"N/A"),1)]),(0,r.Lk)("p",null,[t[3]||(t[3]=(0,r.Lk)("strong",null,"Объем (мл):",-1)),(0,r.eW)(" "+(0,l.v_)(n.parfume.volume||"N/A"),1)]),(0,r.Lk)("p",null,[t[4]||(t[4]=(0,r.Lk)("strong",null,"Цена:",-1)),(0,r.eW)(" "+(0,l.v_)(n.parfume.price?`${n.parfume.price} ₽`:"N/A"),1)]),(0,r.Lk)("p",null,[t[5]||(t[5]=(0,r.Lk)("strong",null,"В наличии:",-1)),(0,r.Lk)("span",{class:(0,l.C4)(["status",o.getStatusClass(n.parfume.in_stock)])},(0,l.v_)(n.parfume.in_stock?"В наличии":"Нет в наличии"),3)]),(0,r.Lk)("p",null,[t[6]||(t[6]=(0,r.Lk)("strong",null,"Описание:",-1)),(0,r.eW)(" "+(0,l.v_)(n.parfume.description||"N/A"),1)]),(0,r.Lk)("p",null,[t[7]||(t[7]=(0,r.Lk)("strong",null,"Гендер:",-1)),(0,r.eW)(" "+(0,l.v_)(n.parfume.gender||"N/A"),1)])]),(0,r.Lk)("div",yt,[(0,r.Lk)("button",{class:"btn-secondary",onClick:t[0]||(t[0]=t=>e.$router.push("/parfumes"))},"Вернуться к списку")])])):((0,r.uX)(),(0,r.CE)("div",wt,"Не удалось загрузить данные о парфюме."))])}var _t={data(){return{parfume:null,loading:!0,errorMessage:null,backendUrl:"http://localhost:3000"}},async created(){const e=this.$route.params.id;if(!/^\d+$/.test(e))return this.errorMessage="Некорректный ID",void(this.loading=!1);await this.fetchParfume(e)},methods:{async fetchParfume(e){try{const t=await fetch(`${this.backendUrl}/api/view-parfume/${e}`,{method:"GET",credentials:"include"});if(!t.ok){if(401===t.status)return void this.$router.push("/login");if(404===t.status)throw new Error("Парфюм не найден");throw new Error(`HTTP error! Status: ${t.status}`)}const a=await t.json();this.parfume=a}catch(t){console.error("Ошибка при получении данных парфюма:",t),this.errorMessage=t.message}finally{this.loading=!1}},getStatusClass(e){return e?"available":"unavailable"}}};const Et=(0,L.A)(_t,[["render",xt],["__scopeId","data-v-724c6afe"]]);var Ct=Et;const Pt=[{path:"/",component:F},{path:"/about",component:V},{path:"/contact",component:ne},{path:"/orders",component:ye},{path:"/parfumes",component:je},{path:"/login",component:De},{path:"/register",component:Be},{path:"/view-orders/:id",component:pt},{path:"/view-parfumes/:id",component:Ct}],At=(0,x.aE)({history:(0,x.LA)(),routes:Pt});var Xt=At;const $t=(0,s.Ef)(w);$t.use(Xt),$t.mount("#app")}},t={};function a(s){var r=t[s];if(void 0!==r)return r.exports;var l=t[s]={exports:{}};return e[s].call(l.exports,l,l.exports,a),l.exports}a.m=e,function(){var e=[];a.O=function(t,s,r,l){if(!s){var n=1/0;for(d=0;d<e.length;d++){s=e[d][0],r=e[d][1],l=e[d][2];for(var o=!0,i=0;i<s.length;i++)(!1&l||n>=l)&&Object.keys(a.O).every((function(e){return a.O[e](s[i])}))?s.splice(i--,1):(o=!1,l<n&&(n=l));if(o){e.splice(d--,1);var c=r();void 0!==c&&(t=c)}}return t}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[s,r,l]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var r,l,n=s[0],o=s[1],i=s[2],c=0;if(n.some((function(t){return 0!==e[t]}))){for(r in o)a.o(o,r)&&(a.m[r]=o[r]);if(i)var d=i(a)}for(t&&t(s);c<n.length;c++)l=n[c],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(d)},s=self["webpackChunkvueapp"]=self["webpackChunkvueapp"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[504],(function(){return a(7898)}));s=a.O(s)})();
//# sourceMappingURL=app.3d0ec0c6.js.map